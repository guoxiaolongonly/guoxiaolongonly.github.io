<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="学习,MPAndroidChart," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="前言一直在使用MPAndroidChart但对其内部机制却没有做多少了解，自己之前还修改过MPAndroidChart的源码，某次面试被问到，MPAndroidChart是怎样进行绘制的，瞬间一脸懵逼，回答了个大概，但是被看出其实不是很了解。算亡羊补牢吧，今天抽了点时间看了MPAndroidChart 3.0的源码部分。直接进入正题吧。
Chart基类这边顺便讲解一下Chart这个类，它是所有图表">
<meta property="og:type" content="article">
<meta property="og:title" content="MPAndroidChart">
<meta property="og:url" content="http://rngift.com/2017/03/31/MPAndroidChartSource/index.html">
<meta property="og:site_name" content="Xiaolong的个人博客">
<meta property="og:description" content="前言一直在使用MPAndroidChart但对其内部机制却没有做多少了解，自己之前还修改过MPAndroidChart的源码，某次面试被问到，MPAndroidChart是怎样进行绘制的，瞬间一脸懵逼，回答了个大概，但是被看出其实不是很了解。算亡羊补牢吧，今天抽了点时间看了MPAndroidChart 3.0的源码部分。直接进入正题吧。
Chart基类这边顺便讲解一下Chart这个类，它是所有图表">
<meta property="og:updated_time" content="2017-05-09T13:26:48.530Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MPAndroidChart">
<meta name="twitter:description" content="前言一直在使用MPAndroidChart但对其内部机制却没有做多少了解，自己之前还修改过MPAndroidChart的源码，某次面试被问到，MPAndroidChart是怎样进行绘制的，瞬间一脸懵逼，回答了个大概，但是被看出其实不是很了解。算亡羊补牢吧，今天抽了点时间看了MPAndroidChart 3.0的源码部分。直接进入正题吧。
Chart基类这边顺便讲解一下Chart这个类，它是所有图表">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://rngift.com/2017/03/31/MPAndroidChartSource/"/>





  <title>MPAndroidChart | Xiaolong的个人博客</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xiaolong的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">爱生活，爱学习</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-mylover">
          <a href="/MyLover" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            menu.mylover
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://rngift.com/2017/03/31/MPAndroidChartSource/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小龙">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/lucky.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaolong的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                MPAndroidChart
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-31T14:08:11+08:00">
                2017-03-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/源码解析/" itemprop="url" rel="index">
                    <span itemprop="name">源码解析</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一直在使用MPAndroidChart但对其内部机制却没有做多少了解，自己之前还修改过MPAndroidChart的源码，某次面试被问到，MPAndroidChart是怎样进行绘制的，瞬间一脸懵逼，回答了个大概，但是被看出其实不是很了解。算亡羊补牢吧，今天抽了点时间看了MPAndroidChart 3.0的源码部分。<br>直接进入正题吧。</p>
<h2 id="Chart基类"><a href="#Chart基类" class="headerlink" title="Chart基类"></a>Chart基类</h2><p>这边顺便讲解一下Chart这个类，它是所有图表类的抽象基类，继承自ViewGroup，实现了图表接口ChartInterface（这个接口用来实现图表的大小，边界，和范围的获取。），Chart里面存放了一些公共的配置和一些共有的抽象方法，数据等。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div><div class="line">647</div><div class="line">648</div><div class="line">649</div><div class="line">650</div><div class="line">651</div><div class="line">652</div><div class="line">653</div><div class="line">654</div><div class="line">655</div><div class="line">656</div><div class="line">657</div><div class="line">658</div><div class="line">659</div><div class="line">660</div><div class="line">661</div><div class="line">662</div><div class="line">663</div><div class="line">664</div><div class="line">665</div><div class="line">666</div><div class="line">667</div><div class="line">668</div><div class="line">669</div><div class="line">670</div><div class="line">671</div><div class="line">672</div><div class="line">673</div><div class="line">674</div><div class="line">675</div><div class="line">676</div><div class="line">677</div><div class="line">678</div><div class="line">679</div><div class="line">680</div><div class="line">681</div><div class="line">682</div><div class="line">683</div><div class="line">684</div><div class="line">685</div><div class="line">686</div><div class="line">687</div><div class="line">688</div><div class="line">689</div><div class="line">690</div><div class="line">691</div><div class="line">692</div><div class="line">693</div><div class="line">694</div><div class="line">695</div><div class="line">696</div><div class="line">697</div><div class="line">698</div><div class="line">699</div><div class="line">700</div><div class="line">701</div><div class="line">702</div><div class="line">703</div><div class="line">704</div><div class="line">705</div><div class="line">706</div><div class="line">707</div><div class="line">708</div><div class="line">709</div><div class="line">710</div><div class="line">711</div><div class="line">712</div><div class="line">713</div><div class="line">714</div><div class="line">715</div><div class="line">716</div><div class="line">717</div><div class="line">718</div><div class="line">719</div><div class="line">720</div><div class="line">721</div><div class="line">722</div><div class="line">723</div><div class="line">724</div><div class="line">725</div><div class="line">726</div><div class="line">727</div><div class="line">728</div><div class="line">729</div><div class="line">730</div><div class="line">731</div><div class="line">732</div><div class="line">733</div><div class="line">734</div><div class="line">735</div><div class="line">736</div><div class="line">737</div><div class="line">738</div><div class="line">739</div><div class="line">740</div><div class="line">741</div><div class="line">742</div><div class="line">743</div><div class="line">744</div><div class="line">745</div><div class="line">746</div><div class="line">747</div><div class="line">748</div><div class="line">749</div><div class="line">750</div><div class="line">751</div><div class="line">752</div><div class="line">753</div><div class="line">754</div><div class="line">755</div><div class="line">756</div><div class="line">757</div><div class="line">758</div><div class="line">759</div><div class="line">760</div><div class="line">761</div><div class="line">762</div><div class="line">763</div><div class="line">764</div><div class="line">765</div><div class="line">766</div><div class="line">767</div><div class="line">768</div><div class="line">769</div><div class="line">770</div><div class="line">771</div><div class="line">772</div><div class="line">773</div><div class="line">774</div><div class="line">775</div><div class="line">776</div><div class="line">777</div><div class="line">778</div><div class="line">779</div><div class="line">780</div><div class="line">781</div><div class="line">782</div><div class="line">783</div><div class="line">784</div><div class="line">785</div><div class="line">786</div><div class="line">787</div><div class="line">788</div><div class="line">789</div><div class="line">790</div><div class="line">791</div><div class="line">792</div><div class="line">793</div><div class="line">794</div><div class="line">795</div><div class="line">796</div><div class="line">797</div><div class="line">798</div><div class="line">799</div><div class="line">800</div><div class="line">801</div><div class="line">802</div><div class="line">803</div><div class="line">804</div><div class="line">805</div><div class="line">806</div><div class="line">807</div><div class="line">808</div><div class="line">809</div><div class="line">810</div><div class="line">811</div><div class="line">812</div><div class="line">813</div><div class="line">814</div><div class="line">815</div><div class="line">816</div><div class="line">817</div><div class="line">818</div><div class="line">819</div><div class="line">820</div><div class="line">821</div><div class="line">822</div><div class="line">823</div><div class="line">824</div><div class="line">825</div><div class="line">826</div><div class="line">827</div><div class="line">828</div><div class="line">829</div><div class="line">830</div><div class="line">831</div><div class="line">832</div><div class="line">833</div><div class="line">834</div><div class="line">835</div><div class="line">836</div><div class="line">837</div><div class="line">838</div><div class="line">839</div><div class="line">840</div><div class="line">841</div><div class="line">842</div><div class="line">843</div><div class="line">844</div><div class="line">845</div><div class="line">846</div><div class="line">847</div><div class="line">848</div><div class="line">849</div><div class="line">850</div><div class="line">851</div><div class="line">852</div><div class="line">853</div><div class="line">854</div><div class="line">855</div><div class="line">856</div><div class="line">857</div><div class="line">858</div><div class="line">859</div><div class="line">860</div><div class="line">861</div><div class="line">862</div><div class="line">863</div><div class="line">864</div><div class="line">865</div><div class="line">866</div><div class="line">867</div><div class="line">868</div><div class="line">869</div><div class="line">870</div><div class="line">871</div><div class="line">872</div><div class="line">873</div><div class="line">874</div><div class="line">875</div><div class="line">876</div><div class="line">877</div><div class="line">878</div><div class="line">879</div><div class="line">880</div><div class="line">881</div><div class="line">882</div><div class="line">883</div><div class="line">884</div><div class="line">885</div><div class="line">886</div><div class="line">887</div><div class="line">888</div><div class="line">889</div><div class="line">890</div><div class="line">891</div><div class="line">892</div><div class="line">893</div><div class="line">894</div><div class="line">895</div><div class="line">896</div><div class="line">897</div><div class="line">898</div><div class="line">899</div><div class="line">900</div><div class="line">901</div><div class="line">902</div><div class="line">903</div><div class="line">904</div><div class="line">905</div><div class="line">906</div><div class="line">907</div><div class="line">908</div><div class="line">909</div><div class="line">910</div><div class="line">911</div><div class="line">912</div><div class="line">913</div><div class="line">914</div><div class="line">915</div><div class="line">916</div><div class="line">917</div><div class="line">918</div><div class="line">919</div><div class="line">920</div><div class="line">921</div><div class="line">922</div><div class="line">923</div><div class="line">924</div><div class="line">925</div><div class="line">926</div><div class="line">927</div><div class="line">928</div><div class="line">929</div><div class="line">930</div><div class="line">931</div><div class="line">932</div><div class="line">933</div><div class="line">934</div><div class="line">935</div><div class="line">936</div><div class="line">937</div><div class="line">938</div><div class="line">939</div><div class="line">940</div><div class="line">941</div><div class="line">942</div><div class="line">943</div><div class="line">944</div><div class="line">945</div><div class="line">946</div><div class="line">947</div><div class="line">948</div><div class="line">949</div><div class="line">950</div><div class="line">951</div><div class="line">952</div><div class="line">953</div><div class="line">954</div><div class="line">955</div><div class="line">956</div><div class="line">957</div><div class="line">958</div><div class="line">959</div><div class="line">960</div><div class="line">961</div><div class="line">962</div><div class="line">963</div><div class="line">964</div><div class="line">965</div><div class="line">966</div><div class="line">967</div><div class="line">968</div><div class="line">969</div><div class="line">970</div><div class="line">971</div><div class="line">972</div><div class="line">973</div><div class="line">974</div><div class="line">975</div><div class="line">976</div><div class="line">977</div><div class="line">978</div><div class="line">979</div><div class="line">980</div><div class="line">981</div><div class="line">982</div><div class="line">983</div><div class="line">984</div><div class="line">985</div><div class="line">986</div><div class="line">987</div><div class="line">988</div><div class="line">989</div><div class="line">990</div><div class="line">991</div><div class="line">992</div><div class="line">993</div><div class="line">994</div><div class="line">995</div><div class="line">996</div><div class="line">997</div><div class="line">998</div><div class="line">999</div><div class="line">1000</div><div class="line">1001</div><div class="line">1002</div><div class="line">1003</div><div class="line">1004</div><div class="line">1005</div><div class="line">1006</div><div class="line">1007</div><div class="line">1008</div><div class="line">1009</div><div class="line">1010</div><div class="line">1011</div><div class="line">1012</div><div class="line">1013</div><div class="line">1014</div><div class="line">1015</div><div class="line">1016</div><div class="line">1017</div><div class="line">1018</div><div class="line">1019</div><div class="line">1020</div><div class="line">1021</div><div class="line">1022</div><div class="line">1023</div><div class="line">1024</div><div class="line">1025</div><div class="line">1026</div><div class="line">1027</div><div class="line">1028</div><div class="line">1029</div><div class="line">1030</div><div class="line">1031</div><div class="line">1032</div><div class="line">1033</div><div class="line">1034</div><div class="line">1035</div><div class="line">1036</div><div class="line">1037</div><div class="line">1038</div><div class="line">1039</div><div class="line">1040</div><div class="line">1041</div><div class="line">1042</div><div class="line">1043</div><div class="line">1044</div><div class="line">1045</div><div class="line">1046</div><div class="line">1047</div><div class="line">1048</div><div class="line">1049</div><div class="line">1050</div><div class="line">1051</div><div class="line">1052</div><div class="line">1053</div><div class="line">1054</div><div class="line">1055</div><div class="line">1056</div><div class="line">1057</div><div class="line">1058</div><div class="line">1059</div><div class="line">1060</div><div class="line">1061</div><div class="line">1062</div><div class="line">1063</div><div class="line">1064</div><div class="line">1065</div><div class="line">1066</div><div class="line">1067</div><div class="line">1068</div><div class="line">1069</div><div class="line">1070</div><div class="line">1071</div><div class="line">1072</div><div class="line">1073</div><div class="line">1074</div><div class="line">1075</div><div class="line">1076</div><div class="line">1077</div><div class="line">1078</div><div class="line">1079</div><div class="line">1080</div><div class="line">1081</div><div class="line">1082</div><div class="line">1083</div><div class="line">1084</div><div class="line">1085</div><div class="line">1086</div><div class="line">1087</div><div class="line">1088</div><div class="line">1089</div><div class="line">1090</div><div class="line">1091</div><div class="line">1092</div><div class="line">1093</div><div class="line">1094</div><div class="line">1095</div><div class="line">1096</div><div class="line">1097</div><div class="line">1098</div><div class="line">1099</div><div class="line">1100</div><div class="line">1101</div><div class="line">1102</div><div class="line">1103</div><div class="line">1104</div><div class="line">1105</div><div class="line">1106</div><div class="line">1107</div><div class="line">1108</div><div class="line">1109</div><div class="line">1110</div><div class="line">1111</div><div class="line">1112</div><div class="line">1113</div><div class="line">1114</div><div class="line">1115</div><div class="line">1116</div><div class="line">1117</div><div class="line">1118</div><div class="line">1119</div><div class="line">1120</div><div class="line">1121</div><div class="line">1122</div><div class="line">1123</div><div class="line">1124</div><div class="line">1125</div><div class="line">1126</div><div class="line">1127</div><div class="line">1128</div><div class="line">1129</div><div class="line">1130</div><div class="line">1131</div><div class="line">1132</div><div class="line">1133</div><div class="line">1134</div><div class="line">1135</div><div class="line">1136</div><div class="line">1137</div><div class="line">1138</div><div class="line">1139</div><div class="line">1140</div><div class="line">1141</div><div class="line">1142</div><div class="line">1143</div><div class="line">1144</div><div class="line">1145</div><div class="line">1146</div><div class="line">1147</div><div class="line">1148</div><div class="line">1149</div><div class="line">1150</div><div class="line">1151</div><div class="line">1152</div><div class="line">1153</div><div class="line">1154</div><div class="line">1155</div><div class="line">1156</div><div class="line">1157</div><div class="line">1158</div><div class="line">1159</div><div class="line">1160</div><div class="line">1161</div><div class="line">1162</div><div class="line">1163</div><div class="line">1164</div><div class="line">1165</div><div class="line">1166</div><div class="line">1167</div><div class="line">1168</div><div class="line">1169</div><div class="line">1170</div><div class="line">1171</div><div class="line">1172</div><div class="line">1173</div><div class="line">1174</div><div class="line">1175</div><div class="line">1176</div><div class="line">1177</div><div class="line">1178</div><div class="line">1179</div><div class="line">1180</div><div class="line">1181</div><div class="line">1182</div><div class="line">1183</div><div class="line">1184</div><div class="line">1185</div><div class="line">1186</div><div class="line">1187</div><div class="line">1188</div><div class="line">1189</div><div class="line">1190</div><div class="line">1191</div><div class="line">1192</div><div class="line">1193</div><div class="line">1194</div><div class="line">1195</div><div class="line">1196</div><div class="line">1197</div><div class="line">1198</div><div class="line">1199</div><div class="line">1200</div><div class="line">1201</div><div class="line">1202</div><div class="line">1203</div><div class="line">1204</div><div class="line">1205</div><div class="line">1206</div><div class="line">1207</div><div class="line">1208</div><div class="line">1209</div><div class="line">1210</div><div class="line">1211</div><div class="line">1212</div><div class="line">1213</div><div class="line">1214</div><div class="line">1215</div><div class="line">1216</div><div class="line">1217</div><div class="line">1218</div><div class="line">1219</div><div class="line">1220</div><div class="line">1221</div><div class="line">1222</div><div class="line">1223</div><div class="line">1224</div><div class="line">1225</div><div class="line">1226</div><div class="line">1227</div><div class="line">1228</div><div class="line">1229</div><div class="line">1230</div><div class="line">1231</div><div class="line">1232</div><div class="line">1233</div><div class="line">1234</div><div class="line">1235</div><div class="line">1236</div><div class="line">1237</div><div class="line">1238</div><div class="line">1239</div><div class="line">1240</div><div class="line">1241</div><div class="line">1242</div><div class="line">1243</div><div class="line">1244</div><div class="line">1245</div><div class="line">1246</div><div class="line">1247</div><div class="line">1248</div><div class="line">1249</div><div class="line">1250</div><div class="line">1251</div><div class="line">1252</div><div class="line">1253</div><div class="line">1254</div><div class="line">1255</div><div class="line">1256</div><div class="line">1257</div><div class="line">1258</div><div class="line">1259</div><div class="line">1260</div><div class="line">1261</div><div class="line">1262</div><div class="line">1263</div><div class="line">1264</div><div class="line">1265</div><div class="line">1266</div><div class="line">1267</div><div class="line">1268</div><div class="line">1269</div><div class="line">1270</div><div class="line">1271</div><div class="line">1272</div><div class="line">1273</div><div class="line">1274</div><div class="line">1275</div><div class="line">1276</div><div class="line">1277</div><div class="line">1278</div><div class="line">1279</div><div class="line">1280</div><div class="line">1281</div><div class="line">1282</div><div class="line">1283</div><div class="line">1284</div><div class="line">1285</div><div class="line">1286</div><div class="line">1287</div><div class="line">1288</div><div class="line">1289</div><div class="line">1290</div><div class="line">1291</div><div class="line">1292</div><div class="line">1293</div><div class="line">1294</div><div class="line">1295</div><div class="line">1296</div><div class="line">1297</div><div class="line">1298</div><div class="line">1299</div><div class="line">1300</div><div class="line">1301</div><div class="line">1302</div><div class="line">1303</div><div class="line">1304</div><div class="line">1305</div><div class="line">1306</div><div class="line">1307</div><div class="line">1308</div><div class="line">1309</div><div class="line">1310</div><div class="line">1311</div><div class="line">1312</div><div class="line">1313</div><div class="line">1314</div><div class="line">1315</div><div class="line">1316</div><div class="line">1317</div><div class="line">1318</div><div class="line">1319</div><div class="line">1320</div><div class="line">1321</div><div class="line">1322</div><div class="line">1323</div><div class="line">1324</div><div class="line">1325</div><div class="line">1326</div><div class="line">1327</div><div class="line">1328</div><div class="line">1329</div><div class="line">1330</div><div class="line">1331</div><div class="line">1332</div><div class="line">1333</div><div class="line">1334</div><div class="line">1335</div><div class="line">1336</div><div class="line">1337</div><div class="line">1338</div><div class="line">1339</div><div class="line">1340</div><div class="line">1341</div><div class="line">1342</div><div class="line">1343</div><div class="line">1344</div><div class="line">1345</div><div class="line">1346</div><div class="line">1347</div><div class="line">1348</div><div class="line">1349</div><div class="line">1350</div><div class="line">1351</div><div class="line">1352</div><div class="line">1353</div><div class="line">1354</div><div class="line">1355</div><div class="line">1356</div><div class="line">1357</div><div class="line">1358</div><div class="line">1359</div><div class="line">1360</div><div class="line">1361</div><div class="line">1362</div><div class="line">1363</div><div class="line">1364</div><div class="line">1365</div><div class="line">1366</div><div class="line">1367</div><div class="line">1368</div><div class="line">1369</div><div class="line">1370</div><div class="line">1371</div><div class="line">1372</div><div class="line">1373</div><div class="line">1374</div><div class="line">1375</div><div class="line">1376</div><div class="line">1377</div><div class="line">1378</div><div class="line">1379</div><div class="line">1380</div><div class="line">1381</div><div class="line">1382</div><div class="line">1383</div><div class="line">1384</div><div class="line">1385</div><div class="line">1386</div><div class="line">1387</div><div class="line">1388</div><div class="line">1389</div><div class="line">1390</div><div class="line">1391</div><div class="line">1392</div><div class="line">1393</div><div class="line">1394</div><div class="line">1395</div><div class="line">1396</div><div class="line">1397</div><div class="line">1398</div><div class="line">1399</div><div class="line">1400</div><div class="line">1401</div><div class="line">1402</div><div class="line">1403</div><div class="line">1404</div><div class="line">1405</div><div class="line">1406</div><div class="line">1407</div><div class="line">1408</div><div class="line">1409</div><div class="line">1410</div><div class="line">1411</div><div class="line">1412</div><div class="line">1413</div><div class="line">1414</div><div class="line">1415</div><div class="line">1416</div><div class="line">1417</div><div class="line">1418</div><div class="line">1419</div><div class="line">1420</div><div class="line">1421</div><div class="line">1422</div><div class="line">1423</div><div class="line">1424</div><div class="line">1425</div><div class="line">1426</div><div class="line">1427</div><div class="line">1428</div><div class="line">1429</div><div class="line">1430</div><div class="line">1431</div><div class="line">1432</div><div class="line">1433</div><div class="line">1434</div><div class="line">1435</div><div class="line">1436</div><div class="line">1437</div><div class="line">1438</div><div class="line">1439</div><div class="line">1440</div><div class="line">1441</div><div class="line">1442</div><div class="line">1443</div><div class="line">1444</div><div class="line">1445</div><div class="line">1446</div><div class="line">1447</div><div class="line">1448</div><div class="line">1449</div><div class="line">1450</div><div class="line">1451</div><div class="line">1452</div><div class="line">1453</div><div class="line">1454</div><div class="line">1455</div><div class="line">1456</div><div class="line">1457</div><div class="line">1458</div><div class="line">1459</div><div class="line">1460</div><div class="line">1461</div><div class="line">1462</div><div class="line">1463</div><div class="line">1464</div><div class="line">1465</div><div class="line">1466</div><div class="line">1467</div><div class="line">1468</div><div class="line">1469</div><div class="line">1470</div><div class="line">1471</div><div class="line">1472</div><div class="line">1473</div><div class="line">1474</div><div class="line">1475</div><div class="line">1476</div><div class="line">1477</div><div class="line">1478</div><div class="line">1479</div><div class="line">1480</div><div class="line">1481</div><div class="line">1482</div><div class="line">1483</div><div class="line">1484</div><div class="line">1485</div><div class="line">1486</div><div class="line">1487</div><div class="line">1488</div><div class="line">1489</div><div class="line">1490</div><div class="line">1491</div><div class="line">1492</div><div class="line">1493</div><div class="line">1494</div><div class="line">1495</div><div class="line">1496</div><div class="line">1497</div><div class="line">1498</div><div class="line">1499</div><div class="line">1500</div><div class="line">1501</div><div class="line">1502</div><div class="line">1503</div><div class="line">1504</div><div class="line">1505</div><div class="line">1506</div><div class="line">1507</div><div class="line">1508</div><div class="line">1509</div><div class="line">1510</div><div class="line">1511</div><div class="line">1512</div><div class="line">1513</div><div class="line">1514</div><div class="line">1515</div><div class="line">1516</div><div class="line">1517</div><div class="line">1518</div><div class="line">1519</div><div class="line">1520</div><div class="line">1521</div><div class="line">1522</div><div class="line">1523</div><div class="line">1524</div><div class="line">1525</div><div class="line">1526</div><div class="line">1527</div><div class="line">1528</div><div class="line">1529</div><div class="line">1530</div><div class="line">1531</div><div class="line">1532</div><div class="line">1533</div><div class="line">1534</div><div class="line">1535</div><div class="line">1536</div><div class="line">1537</div><div class="line">1538</div><div class="line">1539</div><div class="line">1540</div><div class="line">1541</div><div class="line">1542</div><div class="line">1543</div><div class="line">1544</div><div class="line">1545</div><div class="line">1546</div><div class="line">1547</div><div class="line">1548</div><div class="line">1549</div><div class="line">1550</div><div class="line">1551</div><div class="line">1552</div><div class="line">1553</div><div class="line">1554</div><div class="line">1555</div><div class="line">1556</div><div class="line">1557</div><div class="line">1558</div><div class="line">1559</div><div class="line">1560</div><div class="line">1561</div><div class="line">1562</div><div class="line">1563</div><div class="line">1564</div><div class="line">1565</div><div class="line">1566</div><div class="line">1567</div><div class="line">1568</div><div class="line">1569</div><div class="line">1570</div><div class="line">1571</div><div class="line">1572</div><div class="line">1573</div><div class="line">1574</div><div class="line">1575</div><div class="line">1576</div><div class="line">1577</div><div class="line">1578</div><div class="line">1579</div><div class="line">1580</div><div class="line">1581</div><div class="line">1582</div><div class="line">1583</div><div class="line">1584</div><div class="line">1585</div><div class="line">1586</div><div class="line">1587</div><div class="line">1588</div><div class="line">1589</div><div class="line">1590</div><div class="line">1591</div><div class="line">1592</div><div class="line">1593</div><div class="line">1594</div><div class="line">1595</div><div class="line">1596</div><div class="line">1597</div><div class="line">1598</div><div class="line">1599</div><div class="line">1600</div><div class="line">1601</div><div class="line">1602</div><div class="line">1603</div><div class="line">1604</div><div class="line">1605</div><div class="line">1606</div><div class="line">1607</div><div class="line">1608</div><div class="line">1609</div><div class="line">1610</div><div class="line">1611</div><div class="line">1612</div><div class="line">1613</div><div class="line">1614</div><div class="line">1615</div><div class="line">1616</div><div class="line">1617</div><div class="line">1618</div><div class="line">1619</div><div class="line">1620</div><div class="line">1621</div><div class="line">1622</div><div class="line">1623</div><div class="line">1624</div><div class="line">1625</div><div class="line">1626</div><div class="line">1627</div><div class="line">1628</div><div class="line">1629</div><div class="line">1630</div><div class="line">1631</div><div class="line">1632</div><div class="line">1633</div><div class="line">1634</div><div class="line">1635</div><div class="line">1636</div><div class="line">1637</div><div class="line">1638</div><div class="line">1639</div><div class="line">1640</div><div class="line">1641</div><div class="line">1642</div><div class="line">1643</div><div class="line">1644</div><div class="line">1645</div><div class="line">1646</div><div class="line">1647</div><div class="line">1648</div><div class="line">1649</div><div class="line">1650</div><div class="line">1651</div><div class="line">1652</div><div class="line">1653</div><div class="line">1654</div><div class="line">1655</div><div class="line">1656</div><div class="line">1657</div><div class="line">1658</div><div class="line">1659</div><div class="line">1660</div><div class="line">1661</div><div class="line">1662</div><div class="line">1663</div><div class="line">1664</div><div class="line">1665</div><div class="line">1666</div><div class="line">1667</div><div class="line">1668</div><div class="line">1669</div><div class="line">1670</div><div class="line">1671</div><div class="line">1672</div><div class="line">1673</div><div class="line">1674</div><div class="line">1675</div><div class="line">1676</div><div class="line">1677</div><div class="line">1678</div><div class="line">1679</div><div class="line">1680</div><div class="line">1681</div><div class="line">1682</div><div class="line">1683</div><div class="line">1684</div><div class="line">1685</div><div class="line">1686</div><div class="line">1687</div><div class="line">1688</div><div class="line">1689</div><div class="line">1690</div><div class="line">1691</div><div class="line">1692</div><div class="line">1693</div><div class="line">1694</div><div class="line">1695</div><div class="line">1696</div><div class="line">1697</div><div class="line">1698</div><div class="line">1699</div><div class="line">1700</div><div class="line">1701</div><div class="line">1702</div><div class="line">1703</div><div class="line">1704</div><div class="line">1705</div><div class="line">1706</div><div class="line">1707</div><div class="line">1708</div><div class="line">1709</div><div class="line">1710</div><div class="line">1711</div><div class="line">1712</div><div class="line">1713</div><div class="line">1714</div><div class="line">1715</div><div class="line">1716</div><div class="line">1717</div><div class="line">1718</div><div class="line">1719</div><div class="line">1720</div><div class="line">1721</div><div class="line">1722</div><div class="line">1723</div><div class="line">1724</div><div class="line">1725</div><div class="line">1726</div><div class="line">1727</div><div class="line">1728</div><div class="line">1729</div><div class="line">1730</div><div class="line">1731</div><div class="line">1732</div><div class="line">1733</div><div class="line">1734</div><div class="line">1735</div><div class="line">1736</div><div class="line">1737</div><div class="line">1738</div><div class="line">1739</div><div class="line">1740</div><div class="line">1741</div><div class="line">1742</div><div class="line">1743</div><div class="line">1744</div><div class="line">1745</div><div class="line">1746</div><div class="line">1747</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Baseclass of all Chart-Views.</div><div class="line"> * 这个类是图表类的基类，继承自ViewGroup，它可以让图表像View一样被使用。</div><div class="line"> * <span class="doctag">@author</span> Philipp Jahoda</div><div class="line"> */</div><div class="line"><span class="meta">@SuppressLint</span>(<span class="string">"NewApi"</span>)</div><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Chart</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">ChartData</span>&lt;? <span class="keyword">extends</span> <span class="title">IDataSet</span>&lt;? <span class="keyword">extends</span> <span class="title">Entry</span>&gt;&gt;&gt; <span class="keyword">extends</span></span></div><div class="line">        <span class="title">ViewGroup</span></div><div class="line">        <span class="keyword">implements</span> <span class="title">ChartInterface</span> &#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String LOG_TAG = <span class="string">"MPAndroidChart"</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * flag that indicates if logging is enabled or not</div><div class="line">     * 声明log是否开启（调试用）</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> <span class="keyword">boolean</span> mLogEnabled = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * object that holds all data that was originally set for the chart, before</div><div class="line">     * it was modified or any filtering algorithms had been applied</div><div class="line">     * 图表数据</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> T mData = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Flag that indicates if highlighting per tap (touch) is enabled</div><div class="line">     * 触摸区域高亮</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> <span class="keyword">boolean</span> mHighLightPerTapEnabled = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * If set to true, chart continues to scroll after touch up</div><div class="line">     * 触摸事件完成后是否继续滚动（可以试试pieChart的旋转功能）</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> mDragDecelerationEnabled = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Deceleration friction coefficient in [0 ; 1] interval, higher values</div><div class="line">     * indicate that speed will decrease slowly, for example if it set to 0, it</div><div class="line">     * will stop immediately. 1 is an invalid value, and will be converted to</div><div class="line">     * 0.999f automatically.</div><div class="line">     * 这个就是滚动的减慢速度，算摩擦系数，0就直接停了，1会一直转，所以他回自动变成0.999，</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mDragDecelerationFrictionCoef = <span class="number">0.9f</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * default value-formatter, number of digits depends on provided chart-data</div><div class="line">     * 数据格式化</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> ValueFormatter mDefaultFormatter;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint object used for drawing the description text in the bottom right</div><div class="line">     * corner of the chart</div><div class="line">     * 图表描述画笔</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> Paint mDescPaint;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint object for drawing the information text when there are no values in</div><div class="line">     * the chart</div><div class="line">     * 这个画笔是用来画无数据的情况</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> Paint mInfoPaint;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * description text that appears in the bottom right corner of the chart</div><div class="line">     * 描述描述！！</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> String mDescription = <span class="string">"Description"</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * the object representing the labels on the x-axis</div><div class="line">     * X轴的label可以看折现图的横轴label</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> XAxis mXAxis;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * if true, touch gestures are enabled on the chart</div><div class="line">     * 手势开关</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> <span class="keyword">boolean</span> mTouchEnabled = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * the legend object containing all data associated with the legend</div><div class="line">     * Legend是一个图例描述，里面是这个图例，位置等其他配置的信息。</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> Legend mLegend;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * listener that is called when a value on the chart is selected</div><div class="line">     * 数据选中监听</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> OnChartValueSelectedListener mSelectionListener;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 图表点击监听</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> ChartTouchListener mChartTouchListener;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * text that is displayed when the chart is empty</div><div class="line">     * 空数据文本</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> String mNoDataText = <span class="string">"No chart data available."</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Gesture listener for custom callbacks when making gestures on the chart.</div><div class="line">     * 手势监听</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> OnChartGestureListener mGestureListener;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * text that is displayed when the chart is empty that describes why the</div><div class="line">     * chart is empty</div><div class="line">     * 无数据描述</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> String mNoDataTextDescription;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 这个是图例绘制类</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> LegendRenderer mLegendRenderer;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * object responsible for rendering the data</div><div class="line">     * 数据绘制类基类实现</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> DataRenderer mRenderer;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 区域高亮辅助基类。用来计算高亮区域并返回</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> ChartHighlighter mHighlighter;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * object that manages the bounds and drawing constraints of the chart</div><div class="line">     * 边界约束管理</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> ViewPortHandler mViewPortHandler;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * object responsible for animations</div><div class="line">     * 动画</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> ChartAnimator mAnimator;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Extra offsets to be appended to the viewport</div><div class="line">     * 边距</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mExtraTopOffset = <span class="number">0</span>.f,</div><div class="line">            mExtraRightOffset = <span class="number">0</span>.f,</div><div class="line">            mExtraBottomOffset = <span class="number">0</span>.f,</div><div class="line">            mExtraLeftOffset = <span class="number">0</span>.f;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * default constructor for initialization in code</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Chart</span><span class="params">(Context context)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(context);</div><div class="line">        init();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * constructor for initialization in xml</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Chart</span><span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(context, attrs);</div><div class="line">        init();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * even more awesome constructor</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Chart</span><span class="params">(Context context, AttributeSet attrs, <span class="keyword">int</span> defStyle)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(context, attrs, defStyle);</div><div class="line">        init();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * initialize all paints and stuff</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">        setWillNotDraw(<span class="keyword">false</span>);</div><div class="line">        <span class="comment">// setLayerType(View.LAYER_TYPE_HARDWARE, null);</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> (android.os.Build.VERSION.SDK_INT &lt; <span class="number">11</span>)</div><div class="line">            mAnimator = <span class="keyword">new</span> ChartAnimator();</div><div class="line">        <span class="keyword">else</span></div><div class="line">            mAnimator = <span class="keyword">new</span> ChartAnimator(<span class="keyword">new</span> AnimatorUpdateListener() &#123;</div><div class="line"></div><div class="line">                <span class="meta">@Override</span></div><div class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAnimationUpdate</span><span class="params">(ValueAnimator animation)</span> </span>&#123;</div><div class="line">                    <span class="comment">// ViewCompat.postInvalidateOnAnimation(Chart.this);</span></div><div class="line">                    postInvalidate();</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">        <span class="comment">// initialize the utils</span></div><div class="line">        Utils.init(getContext());</div><div class="line"></div><div class="line">        mDefaultFormatter = <span class="keyword">new</span> DefaultValueFormatter(<span class="number">1</span>);</div><div class="line"></div><div class="line">        mViewPortHandler = <span class="keyword">new</span> ViewPortHandler();</div><div class="line"></div><div class="line">        mLegend = <span class="keyword">new</span> Legend();</div><div class="line"></div><div class="line">        mLegendRenderer = <span class="keyword">new</span> LegendRenderer(mViewPortHandler, mLegend);</div><div class="line"></div><div class="line">        mXAxis = <span class="keyword">new</span> XAxis();</div><div class="line"></div><div class="line">        mDescPaint = <span class="keyword">new</span> Paint(Paint.ANTI_ALIAS_FLAG);</div><div class="line">        mDescPaint.setColor(Color.BLACK);</div><div class="line">        mDescPaint.setTextAlign(Align.RIGHT);</div><div class="line">        mDescPaint.setTextSize(Utils.convertDpToPixel(<span class="number">9f</span>));</div><div class="line"></div><div class="line">        mInfoPaint = <span class="keyword">new</span> Paint(Paint.ANTI_ALIAS_FLAG);</div><div class="line">        mInfoPaint.setColor(Color.rgb(<span class="number">247</span>, <span class="number">189</span>, <span class="number">51</span>)); <span class="comment">// orange</span></div><div class="line">        mInfoPaint.setTextAlign(Align.CENTER);</div><div class="line">        mInfoPaint.setTextSize(Utils.convertDpToPixel(<span class="number">12f</span>));</div><div class="line"></div><div class="line">        mDrawPaint = <span class="keyword">new</span> Paint(Paint.DITHER_FLAG);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mLogEnabled)</div><div class="line">            Log.i(<span class="string">""</span>, <span class="string">"Chart.init()"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Sets a new data object for the chart. The data object contains all values</div><div class="line">     * and information needed for displaying.</div><div class="line">     * 设置新数据</div><div class="line">     * <span class="doctag">@param</span> data</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(T data)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (data == <span class="keyword">null</span>) &#123;</div><div class="line">            Log.e(LOG_TAG,</div><div class="line">                    <span class="string">"Cannot set data for chart. Provided data object is null."</span>);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// LET THE CHART KNOW THERE IS DATA</span></div><div class="line">        mOffsetsCalculated = <span class="keyword">false</span>;</div><div class="line">        mData = data;</div><div class="line"></div><div class="line">        <span class="comment">// calculate how many digits are needed</span></div><div class="line">        calculateFormatter(data.getYMin(), data.getYMax());</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (IDataSet set : mData.getDataSets()) &#123;</div><div class="line">            <span class="keyword">if</span> (Utils.needsDefaultFormatter(set.getValueFormatter()))</div><div class="line">                set.setValueFormatter(mDefaultFormatter);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// let the chart know there is new data</span></div><div class="line">        notifyDataSetChanged();</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mLogEnabled)</div><div class="line">            Log.i(LOG_TAG, <span class="string">"Data is set."</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Clears the chart from all data (sets it to null) and refreshes it (by</div><div class="line">     * calling invalidate()).</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;</div><div class="line">        mData = <span class="keyword">null</span>;</div><div class="line">        mIndicesToHighlight = <span class="keyword">null</span>;</div><div class="line">        invalidate();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Removes all DataSets (and thereby Entries) from the chart. Does not</div><div class="line">     * remove the x-values. Also refreshes the chart by calling invalidate().</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clearValues</span><span class="params">()</span> </span>&#123;</div><div class="line">        mData.clearValues();</div><div class="line">        invalidate();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns true if the chart is empty (meaning it's data object is either</div><div class="line">     * null or contains no entries).</div><div class="line">     * data是否为空</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mData == <span class="keyword">null</span>)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (mData.getYValCount() &lt;= <span class="number">0</span>)</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Lets the chart know its underlying data has changed and performs all</div><div class="line">     * necessary recalculations. It is crucial that this method is called</div><div class="line">     * everytime data is changed dynamically. Not calling this method can lead</div><div class="line">     * to crashes or unexpected behaviour.</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">notifyDataSetChanged</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * calculates the offsets of the chart to the border depending on the</div><div class="line">     * position of an eventual legend or depending on the length of the y-axis</div><div class="line">     * and x-axis labels and their position</div><div class="line">     * 边距</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">calculateOffsets</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * calcualtes the y-min and y-max value and the y-delta and x-delta value</div><div class="line">     * 最大最小y值计算抽象方法</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">calcMinMax</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * calculates the required number of digits for the values that might be</div><div class="line">     * drawn in the chart (if enabled), and creates the default-value-formatter</div><div class="line">     * 计算单位</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">calculateFormatter</span><span class="params">(<span class="keyword">float</span> min, <span class="keyword">float</span> max)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">float</span> reference = <span class="number">0f</span>;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mData == <span class="keyword">null</span> || mData.getXValCount() &lt; <span class="number">2</span>) &#123;</div><div class="line"></div><div class="line">            reference = Math.max(Math.abs(min), Math.abs(max));</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            reference = Math.abs(max - min);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">int</span> digits = Utils.getDecimals(reference);</div><div class="line">        mDefaultFormatter = <span class="keyword">new</span> DefaultValueFormatter(digits);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * flag that indicates if offsets calculation has already been done or not</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> mOffsetsCalculated = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint object used for drawing the bitmap</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> Paint mDrawPaint;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 空数据的绘制在这里</div><div class="line">     * <span class="doctag">@param</span> canvas</div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDraw</span><span class="params">(Canvas canvas)</span> </span>&#123;</div><div class="line">        <span class="comment">// super.onDraw(canvas);</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mData == <span class="keyword">null</span>) &#123;</div><div class="line"></div><div class="line">            <span class="keyword">boolean</span> hasText = !TextUtils.isEmpty(mNoDataText);</div><div class="line">            <span class="keyword">boolean</span> hasDescription = !TextUtils.isEmpty(mNoDataTextDescription);</div><div class="line">            <span class="keyword">float</span> line1height = hasText ? Utils.calcTextHeight(mInfoPaint, mNoDataText) : <span class="number">0</span>.f;</div><div class="line">            <span class="keyword">float</span> line2height = hasDescription ? Utils.calcTextHeight(mInfoPaint, mNoDataTextDescription) : <span class="number">0</span>.f;</div><div class="line">            <span class="keyword">float</span> lineSpacing = (hasText &amp;&amp; hasDescription) ?</div><div class="line">                    (mInfoPaint.getFontSpacing() - line1height) : <span class="number">0</span>.f;</div><div class="line"></div><div class="line">            <span class="comment">// if no data, inform the user</span></div><div class="line"></div><div class="line">            <span class="keyword">float</span> y = (getHeight() -</div><div class="line">                    (line1height + lineSpacing + line2height)) / <span class="number">2</span>.f</div><div class="line">                    + line1height;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (hasText) &#123;</div><div class="line">                canvas.drawText(mNoDataText, getWidth() / <span class="number">2</span>, y, mInfoPaint);</div><div class="line"></div><div class="line">                <span class="keyword">if</span> (hasDescription) &#123;</div><div class="line">                    y = y + line1height + lineSpacing;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (hasDescription) &#123;</div><div class="line">                canvas.drawText(mNoDataTextDescription, getWidth() / <span class="number">2</span>, y, mInfoPaint);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (!mOffsetsCalculated) &#123;</div><div class="line"></div><div class="line">            calculateOffsets();</div><div class="line">            mOffsetsCalculated = <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * the custom position of the description text</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> PointF mDescriptionPosition;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * draws the description text in the bottom right corner of the chart</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">drawDescription</span><span class="params">(Canvas c)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (!mDescription.equals(<span class="string">""</span>)) &#123;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (mDescriptionPosition == <span class="keyword">null</span>) &#123;</div><div class="line"></div><div class="line">                c.drawText(mDescription, getWidth() - mViewPortHandler.offsetRight() - <span class="number">10</span>,</div><div class="line">                        getHeight() - mViewPortHandler.offsetBottom()</div><div class="line">                                - <span class="number">10</span>, mDescPaint);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                c.drawText(mDescription, mDescriptionPosition.x, mDescriptionPosition.y, mDescPaint);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ################ ################ ################ ################</div><div class="line">     */</div><div class="line">    <span class="comment">/** BELOW THIS CODE FOR HIGHLIGHTING */</span></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * array of Highlight objects that reference the highlighted slices in the</div><div class="line">     * chart</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> Highlight[] mIndicesToHighlight;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the array of currently highlighted values. This might a null or</div><div class="line">     * empty array if nothing is highlighted.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> Highlight[] getHighlighted() &#123;</div><div class="line">        <span class="keyword">return</span> mIndicesToHighlight;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns true if values can be highlighted via tap gesture, false if not.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHighlightPerTapEnabled</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mHighLightPerTapEnabled;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set this to false to prevent values from being highlighted by tap gesture.</div><div class="line">     * Values can still be highlighted via drag or programmatically. Default: true</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> enabled</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHighlightPerTapEnabled</span><span class="params">(<span class="keyword">boolean</span> enabled)</span> </span>&#123;</div><div class="line">        mHighLightPerTapEnabled = enabled;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns true if there are values to highlight, false if there are no</div><div class="line">     * values to highlight. Checks if the highlight array is null, has a length</div><div class="line">     * of zero or if the first object is null.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">valuesToHighlight</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mIndicesToHighlight == <span class="keyword">null</span> || mIndicesToHighlight.length &lt;= <span class="number">0</span></div><div class="line">                || mIndicesToHighlight[<span class="number">0</span>] == <span class="keyword">null</span> ? <span class="keyword">false</span></div><div class="line">                : <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Highlights the values at the given indices in the given DataSets. Provide</div><div class="line">     * null or an empty array to undo all highlighting. This should be used to</div><div class="line">     * programmatically highlight values. This DOES NOT generate a callback to</div><div class="line">     * the OnChartValueSelectedListener.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> highs</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">highlightValues</span><span class="params">(Highlight[] highs)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="comment">// set the indices to highlight</span></div><div class="line">        mIndicesToHighlight = highs;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (highs == <span class="keyword">null</span> || highs.length &lt;= <span class="number">0</span> || highs[<span class="number">0</span>] == <span class="keyword">null</span>) &#123;</div><div class="line">            mChartTouchListener.setLastHighlighted(<span class="keyword">null</span>);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            mChartTouchListener.setLastHighlighted(highs[<span class="number">0</span>]);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// redraw the chart</span></div><div class="line">        invalidate();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Highlights the value at the given x-index in the given DataSet. Provide</div><div class="line">     * -1 as the x-index or dataSetIndex to undo all highlighting.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> xIndex</div><div class="line">     * <span class="doctag">@param</span> dataSetIndex</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">highlightValue</span><span class="params">(<span class="keyword">int</span> xIndex, <span class="keyword">int</span> dataSetIndex)</span> </span>&#123;</div><div class="line">        highlightValue(xIndex, dataSetIndex, <span class="keyword">true</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Highlights the value at the given x-index in the given DataSet. Provide</div><div class="line">     * -1 as the x-index or dataSetIndex to undo all highlighting.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> xIndex</div><div class="line">     * <span class="doctag">@param</span> dataSetIndex</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">highlightValue</span><span class="params">(<span class="keyword">int</span> xIndex, <span class="keyword">int</span> dataSetIndex, <span class="keyword">boolean</span> callListener)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (xIndex &lt; <span class="number">0</span> || dataSetIndex &lt; <span class="number">0</span> || xIndex &gt;= mData.getXValCount()</div><div class="line">                || dataSetIndex &gt;= mData.getDataSetCount()) &#123;</div><div class="line"></div><div class="line">            highlightValue(<span class="keyword">null</span>, callListener);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            highlightValue(<span class="keyword">new</span> Highlight(xIndex, dataSetIndex), callListener);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Highlights the values represented by the provided Highlight object</div><div class="line">     * This DOES NOT generate a callback to the OnChartValueSelectedListener.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> highlight contains information about which entry should be highlighted</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">highlightValue</span><span class="params">(Highlight highlight)</span> </span>&#123;</div><div class="line">        highlightValue(highlight, <span class="keyword">false</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Highlights the value selected by touch gesture. Unlike</div><div class="line">     * highlightValues(...), this generates a callback to the</div><div class="line">     * OnChartValueSelectedListener.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> high         - the highlight object</div><div class="line">     * <span class="doctag">@param</span> callListener - call the listener</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">highlightValue</span><span class="params">(Highlight high, <span class="keyword">boolean</span> callListener)</span> </span>&#123;</div><div class="line"></div><div class="line">        Entry e = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (high == <span class="keyword">null</span>)</div><div class="line">            mIndicesToHighlight = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (mLogEnabled)</div><div class="line">                Log.i(LOG_TAG, <span class="string">"Highlighted: "</span> + high.toString());</div><div class="line"></div><div class="line">            e = mData.getEntryForHighlight(high);</div><div class="line">            <span class="keyword">if</span> (e == <span class="keyword">null</span>) &#123;</div><div class="line">                mIndicesToHighlight = <span class="keyword">null</span>;</div><div class="line">                high = <span class="keyword">null</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">if</span> (<span class="keyword">this</span> <span class="keyword">instanceof</span> BarLineChartBase</div><div class="line">                        &amp;&amp; ((BarLineChartBase)<span class="keyword">this</span>).isHighlightFullBarEnabled())</div><div class="line">                    high = <span class="keyword">new</span> Highlight(high.getXIndex(), Float.NaN, -<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>);</div><div class="line"></div><div class="line">                <span class="comment">// set the indices to highlight</span></div><div class="line">                mIndicesToHighlight = <span class="keyword">new</span> Highlight[]&#123;</div><div class="line">                        high</div><div class="line">                &#125;;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (callListener &amp;&amp; mSelectionListener != <span class="keyword">null</span>) &#123;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (!valuesToHighlight())</div><div class="line">                mSelectionListener.onNothingSelected();</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="comment">// notify the listener</span></div><div class="line">                mSelectionListener.onValueSelected(e, high.getDataSetIndex(), high);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// redraw the chart</span></div><div class="line">        invalidate();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Deprecated. Calls highlightValue(high, true)</div><div class="line">     */</div><div class="line">    <span class="meta">@Deprecated</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">highlightTouch</span><span class="params">(Highlight high)</span> </span>&#123;</div><div class="line">        highlightValue(high, <span class="keyword">true</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set a new (e.g. custom) ChartTouchListener <span class="doctag">NOTE:</span> make sure to</div><div class="line">     * setTouchEnabled(true); if you need touch gestures on the chart</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> l</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOnTouchListener</span><span class="params">(ChartTouchListener l)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.mChartTouchListener = l;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ################ ################ ################ ################</div><div class="line">     */</div><div class="line">    <span class="comment">/** BELOW CODE IS FOR THE MARKER VIEW */</span></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * if set to true, the marker view is drawn when a value is clicked</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> <span class="keyword">boolean</span> mDrawMarkerViews = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * the view that represents the marker</div><div class="line">     * 覆盖物</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> MarkerView mMarkerView;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * draws all MarkerViews on the highlighted positions</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">drawMarkers</span><span class="params">(Canvas canvas)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="comment">// if there is no marker view or drawing marker is disabled</span></div><div class="line">        <span class="keyword">if</span> (mMarkerView == <span class="keyword">null</span> || !mDrawMarkerViews || !valuesToHighlight())</div><div class="line">            <span class="keyword">return</span>;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mIndicesToHighlight.length; i++) &#123;</div><div class="line"></div><div class="line">            Highlight highlight = mIndicesToHighlight[i];</div><div class="line">            <span class="keyword">int</span> xIndex = highlight.getXIndex();</div><div class="line">            <span class="keyword">int</span> dataSetIndex = highlight.getDataSetIndex();</div><div class="line"></div><div class="line">            <span class="keyword">float</span> deltaX = mXAxis != <span class="keyword">null</span> </div><div class="line">                ? mXAxis.mAxisRange</div><div class="line">                : ((mData == <span class="keyword">null</span> ? <span class="number">0</span>.f : mData.getXValCount()) - <span class="number">1</span>.f);</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (xIndex &lt;= deltaX &amp;&amp; xIndex &lt;= deltaX * mAnimator.getPhaseX()) &#123;</div><div class="line"></div><div class="line">                Entry e = mData.getEntryForHighlight(mIndicesToHighlight[i]);</div><div class="line"></div><div class="line">                <span class="comment">// make sure entry not null</span></div><div class="line">                <span class="keyword">if</span> (e == <span class="keyword">null</span> || e.getXIndex() != mIndicesToHighlight[i].getXIndex())</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line"></div><div class="line">                <span class="keyword">float</span>[] pos = getMarkerPosition(e, highlight);</div><div class="line"></div><div class="line">                <span class="comment">// check bounds</span></div><div class="line">                <span class="keyword">if</span> (!mViewPortHandler.isInBounds(pos[<span class="number">0</span>], pos[<span class="number">1</span>]))</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line"></div><div class="line">                <span class="comment">// callbacks to update the content</span></div><div class="line">                mMarkerView.refreshContent(e, highlight);</div><div class="line"></div><div class="line">                <span class="comment">// mMarkerView.measure(MeasureSpec.makeMeasureSpec(0,</span></div><div class="line">                <span class="comment">// MeasureSpec.UNSPECIFIED),</span></div><div class="line">                <span class="comment">// MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED));</span></div><div class="line">                <span class="comment">// mMarkerView.layout(0, 0, mMarkerView.getMeasuredWidth(),</span></div><div class="line">                <span class="comment">// mMarkerView.getMeasuredHeight());</span></div><div class="line">                <span class="comment">// mMarkerView.draw(mDrawCanvas, pos[0], pos[1]);</span></div><div class="line"></div><div class="line">                mMarkerView.measure(MeasureSpec.makeMeasureSpec(<span class="number">0</span>, MeasureSpec.UNSPECIFIED),</div><div class="line">                        MeasureSpec.makeMeasureSpec(<span class="number">0</span>, MeasureSpec.UNSPECIFIED));</div><div class="line">                mMarkerView.layout(<span class="number">0</span>, <span class="number">0</span>, mMarkerView.getMeasuredWidth(),</div><div class="line">                        mMarkerView.getMeasuredHeight());</div><div class="line"></div><div class="line">                <span class="keyword">if</span> (pos[<span class="number">1</span>] - mMarkerView.getHeight() &lt;= <span class="number">0</span>) &#123;</div><div class="line">                    <span class="keyword">float</span> y = mMarkerView.getHeight() - pos[<span class="number">1</span>];</div><div class="line">                    mMarkerView.draw(canvas, pos[<span class="number">0</span>], pos[<span class="number">1</span>] + y);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    mMarkerView.draw(canvas, pos[<span class="number">0</span>], pos[<span class="number">1</span>]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the actual position in pixels of the MarkerView for the given</div><div class="line">     * Entry in the given DataSet.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> e</div><div class="line">     * <span class="doctag">@param</span> highlight</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">float</span>[] getMarkerPosition(Entry e, Highlight highlight);</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ################ ################ ################ ################</div><div class="line">     * ANIMATIONS ONLY WORK FOR API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     */</div><div class="line">    <span class="comment">/** CODE BELOW THIS RELATED TO ANIMATION */</span></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the animator responsible for animating chart values.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> ChartAnimator <span class="title">getAnimator</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mAnimator;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * If set to true, chart continues to scroll after touch up default: true</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isDragDecelerationEnabled</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mDragDecelerationEnabled;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * If set to true, chart continues to scroll after touch up. Default: true.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> enabled</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDragDecelerationEnabled</span><span class="params">(<span class="keyword">boolean</span> enabled)</span> </span>&#123;</div><div class="line">        mDragDecelerationEnabled = enabled;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns drag deceleration friction coefficient</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getDragDecelerationFrictionCoef</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mDragDecelerationFrictionCoef;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Deceleration friction coefficient in [0 ; 1] interval, higher values</div><div class="line">     * indicate that speed will decrease slowly, for example if it set to 0, it</div><div class="line">     * will stop immediately. 1 is an invalid value, and will be converted to</div><div class="line">     * 0.999f automatically.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> newValue</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDragDecelerationFrictionCoef</span><span class="params">(<span class="keyword">float</span> newValue)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (newValue &lt; <span class="number">0</span>.f)</div><div class="line">            newValue = <span class="number">0</span>.f;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (newValue &gt;= <span class="number">1f</span>)</div><div class="line">            newValue = <span class="number">0.999f</span>;</div><div class="line"></div><div class="line">        mDragDecelerationFrictionCoef = newValue;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ################ ################ ################ ################</div><div class="line">     * ANIMATIONS ONLY WORK FOR API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     */</div><div class="line">    <span class="comment">/** CODE BELOW FOR PROVIDING EASING FUNCTIONS */</span></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Animates the drawing / rendering of the chart on both x- and y-axis with</div><div class="line">     * the specified animation time. If animate(...) is called, no further</div><div class="line">     * calling of invalidate() is necessary to refresh the chart. ANIMATIONS</div><div class="line">     * ONLY WORK FOR API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> durationMillisX</div><div class="line">     * <span class="doctag">@param</span> durationMillisY</div><div class="line">     * <span class="doctag">@param</span> easingX         a custom easing function to be used on the animation phase</div><div class="line">     * <span class="doctag">@param</span> easingY         a custom easing function to be used on the animation phase</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">animateXY</span><span class="params">(<span class="keyword">int</span> durationMillisX, <span class="keyword">int</span> durationMillisY, EasingFunction easingX,</span></span></div><div class="line">                          EasingFunction easingY) &#123;</div><div class="line">        mAnimator.animateXY(durationMillisX, durationMillisY, easingX, easingY);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Animates the rendering of the chart on the x-axis with the specified</div><div class="line">     * animation time. If animate(...) is called, no further calling of</div><div class="line">     * invalidate() is necessary to refresh the chart. ANIMATIONS ONLY WORK FOR</div><div class="line">     * API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> durationMillis</div><div class="line">     * <span class="doctag">@param</span> easing         a custom easing function to be used on the animation phase</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">animateX</span><span class="params">(<span class="keyword">int</span> durationMillis, EasingFunction easing)</span> </span>&#123;</div><div class="line">        mAnimator.animateX(durationMillis, easing);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Animates the rendering of the chart on the y-axis with the specified</div><div class="line">     * animation time. If animate(...) is called, no further calling of</div><div class="line">     * invalidate() is necessary to refresh the chart. ANIMATIONS ONLY WORK FOR</div><div class="line">     * API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> durationMillis</div><div class="line">     * <span class="doctag">@param</span> easing         a custom easing function to be used on the animation phase</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">animateY</span><span class="params">(<span class="keyword">int</span> durationMillis, EasingFunction easing)</span> </span>&#123;</div><div class="line">        mAnimator.animateY(durationMillis, easing);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ################ ################ ################ ################</div><div class="line">     * ANIMATIONS ONLY WORK FOR API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     */</div><div class="line">    <span class="comment">/** CODE BELOW FOR PREDEFINED EASING OPTIONS */</span></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Animates the drawing / rendering of the chart on both x- and y-axis with</div><div class="line">     * the specified animation time. If animate(...) is called, no further</div><div class="line">     * calling of invalidate() is necessary to refresh the chart. ANIMATIONS</div><div class="line">     * ONLY WORK FOR API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> durationMillisX</div><div class="line">     * <span class="doctag">@param</span> durationMillisY</div><div class="line">     * <span class="doctag">@param</span> easingX         a predefined easing option</div><div class="line">     * <span class="doctag">@param</span> easingY         a predefined easing option</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">animateXY</span><span class="params">(<span class="keyword">int</span> durationMillisX, <span class="keyword">int</span> durationMillisY, Easing.EasingOption easingX,</span></span></div><div class="line">                          Easing.EasingOption easingY) &#123;</div><div class="line">        mAnimator.animateXY(durationMillisX, durationMillisY, easingX, easingY);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Animates the rendering of the chart on the x-axis with the specified</div><div class="line">     * animation time. If animate(...) is called, no further calling of</div><div class="line">     * invalidate() is necessary to refresh the chart. ANIMATIONS ONLY WORK FOR</div><div class="line">     * API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> durationMillis</div><div class="line">     * <span class="doctag">@param</span> easing         a predefined easing option</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">animateX</span><span class="params">(<span class="keyword">int</span> durationMillis, Easing.EasingOption easing)</span> </span>&#123;</div><div class="line">        mAnimator.animateX(durationMillis, easing);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Animates the rendering of the chart on the y-axis with the specified</div><div class="line">     * animation time. If animate(...) is called, no further calling of</div><div class="line">     * invalidate() is necessary to refresh the chart. ANIMATIONS ONLY WORK FOR</div><div class="line">     * API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> durationMillis</div><div class="line">     * <span class="doctag">@param</span> easing         a predefined easing option</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">animateY</span><span class="params">(<span class="keyword">int</span> durationMillis, Easing.EasingOption easing)</span> </span>&#123;</div><div class="line">        mAnimator.animateY(durationMillis, easing);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ################ ################ ################ ################</div><div class="line">     * ANIMATIONS ONLY WORK FOR API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     */</div><div class="line">    <span class="comment">/** CODE BELOW FOR ANIMATIONS WITHOUT EASING */</span></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Animates the rendering of the chart on the x-axis with the specified</div><div class="line">     * animation time. If animate(...) is called, no further calling of</div><div class="line">     * invalidate() is necessary to refresh the chart. ANIMATIONS ONLY WORK FOR</div><div class="line">     * API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> durationMillis</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">animateX</span><span class="params">(<span class="keyword">int</span> durationMillis)</span> </span>&#123;</div><div class="line">        mAnimator.animateX(durationMillis);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Animates the rendering of the chart on the y-axis with the specified</div><div class="line">     * animation time. If animate(...) is called, no further calling of</div><div class="line">     * invalidate() is necessary to refresh the chart. ANIMATIONS ONLY WORK FOR</div><div class="line">     * API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> durationMillis</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">animateY</span><span class="params">(<span class="keyword">int</span> durationMillis)</span> </span>&#123;</div><div class="line">        mAnimator.animateY(durationMillis);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Animates the drawing / rendering of the chart on both x- and y-axis with</div><div class="line">     * the specified animation time. If animate(...) is called, no further</div><div class="line">     * calling of invalidate() is necessary to refresh the chart. ANIMATIONS</div><div class="line">     * ONLY WORK FOR API LEVEL 11 (Android 3.0.x) AND HIGHER.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> durationMillisX</div><div class="line">     * <span class="doctag">@param</span> durationMillisY</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">animateXY</span><span class="params">(<span class="keyword">int</span> durationMillisX, <span class="keyword">int</span> durationMillisY)</span> </span>&#123;</div><div class="line">        mAnimator.animateXY(durationMillisX, durationMillisY);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ################ ################ ################ ################</div><div class="line">     */</div><div class="line">    <span class="comment">/** BELOW THIS ONLY GETTERS AND SETTERS */</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the object representing all x-labels, this method can be used to</div><div class="line">     * acquire the XAxis object and modify it (e.g. change the position of the</div><div class="line">     * labels, styling, etc.)</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> XAxis <span class="title">getXAxis</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mXAxis;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the default ValueFormatter that has been determined by the chart</div><div class="line">     * considering the provided minimum and maximum values.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> ValueFormatter <span class="title">getDefaultValueFormatter</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mDefaultFormatter;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * set a selection listener for the chart</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> l</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOnChartValueSelectedListener</span><span class="params">(OnChartValueSelectedListener l)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.mSelectionListener = l;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Sets a gesture-listener for the chart for custom callbacks when executing</div><div class="line">     * gestures on the chart surface.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> l</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOnChartGestureListener</span><span class="params">(OnChartGestureListener l)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.mGestureListener = l;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the custom gesture listener.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> OnChartGestureListener <span class="title">getOnChartGestureListener</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mGestureListener;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * returns the current y-max value across all DataSets</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getYMax</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mData.getYMax();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * returns the current y-min value across all DataSets</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getYMin</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mData.getYMin();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getXChartMax</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mXAxis.mAxisMaximum;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getXChartMin</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mXAxis.mAxisMinimum;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getXValCount</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mData.getXValCount();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the total number of (y) values the chart holds (across all DataSets).</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getValueCount</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mData.getYValCount();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the center point of the chart (the whole View) in pixels.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> PointF <span class="title">getCenter</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> PointF(getWidth() / <span class="number">2f</span>, getHeight() / <span class="number">2f</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the center of the chart taking offsets under consideration.</div><div class="line">     * (returns the center of the content rectangle)</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> PointF <span class="title">getCenterOffsets</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mViewPortHandler.getContentCenter();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * set a description text that appears in the bottom right corner of the</div><div class="line">     * chart, size = Y-legend text size</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> desc</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDescription</span><span class="params">(String desc)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (desc == <span class="keyword">null</span>)</div><div class="line">            desc = <span class="string">""</span>;</div><div class="line">        <span class="keyword">this</span>.mDescription = desc;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Sets a custom position for the description text in pixels on the screen.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> x - xcoordinate</div><div class="line">     * <span class="doctag">@param</span> y - ycoordinate</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDescriptionPosition</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span> </span>&#123;</div><div class="line">        mDescriptionPosition = <span class="keyword">new</span> PointF(x, y);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * sets the typeface for the description paint</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> t</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDescriptionTypeface</span><span class="params">(Typeface t)</span> </span>&#123;</div><div class="line">        mDescPaint.setTypeface(t);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * sets the size of the description text in pixels, min 6f, max 16f</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> size</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDescriptionTextSize</span><span class="params">(<span class="keyword">float</span> size)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (size &gt; <span class="number">16f</span>)</div><div class="line">            size = <span class="number">16f</span>;</div><div class="line">        <span class="keyword">if</span> (size &lt; <span class="number">6f</span>)</div><div class="line">            size = <span class="number">6f</span>;</div><div class="line"></div><div class="line">        mDescPaint.setTextSize(Utils.convertDpToPixel(size));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Sets the color of the description text.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> color</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDescriptionColor</span><span class="params">(<span class="keyword">int</span> color)</span> </span>&#123;</div><div class="line">        mDescPaint.setColor(color);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Sets extra offsets (around the chart view) to be appended to the</div><div class="line">     * auto-calculated offsets.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> left</div><div class="line">     * <span class="doctag">@param</span> top</div><div class="line">     * <span class="doctag">@param</span> right</div><div class="line">     * <span class="doctag">@param</span> bottom</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setExtraOffsets</span><span class="params">(<span class="keyword">float</span> left, <span class="keyword">float</span> top, <span class="keyword">float</span> right, <span class="keyword">float</span> bottom)</span> </span>&#123;</div><div class="line">        setExtraLeftOffset(left);</div><div class="line">        setExtraTopOffset(top);</div><div class="line">        setExtraRightOffset(right);</div><div class="line">        setExtraBottomOffset(bottom);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set an extra offset to be appended to the viewport's top</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setExtraTopOffset</span><span class="params">(<span class="keyword">float</span> offset)</span> </span>&#123;</div><div class="line">        mExtraTopOffset = Utils.convertDpToPixel(offset);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * <span class="doctag">@return</span> the extra offset to be appended to the viewport's top</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getExtraTopOffset</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mExtraTopOffset;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set an extra offset to be appended to the viewport's right</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setExtraRightOffset</span><span class="params">(<span class="keyword">float</span> offset)</span> </span>&#123;</div><div class="line">        mExtraRightOffset = Utils.convertDpToPixel(offset);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * <span class="doctag">@return</span> the extra offset to be appended to the viewport's right</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getExtraRightOffset</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mExtraRightOffset;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set an extra offset to be appended to the viewport's bottom</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setExtraBottomOffset</span><span class="params">(<span class="keyword">float</span> offset)</span> </span>&#123;</div><div class="line">        mExtraBottomOffset = Utils.convertDpToPixel(offset);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * <span class="doctag">@return</span> the extra offset to be appended to the viewport's bottom</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getExtraBottomOffset</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mExtraBottomOffset;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set an extra offset to be appended to the viewport's left</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setExtraLeftOffset</span><span class="params">(<span class="keyword">float</span> offset)</span> </span>&#123;</div><div class="line">        mExtraLeftOffset = Utils.convertDpToPixel(offset);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * <span class="doctag">@return</span> the extra offset to be appended to the viewport's left</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getExtraLeftOffset</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mExtraLeftOffset;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set this to true to enable logcat outputs for the chart. Beware that</div><div class="line">     * logcat output decreases rendering performance. Default: disabled.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> enabled</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLogEnabled</span><span class="params">(<span class="keyword">boolean</span> enabled)</span> </span>&#123;</div><div class="line">        mLogEnabled = enabled;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns true if log-output is enabled for the chart, fals if not.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isLogEnabled</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mLogEnabled;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Sets the text that informs the user that there is no data available with</div><div class="line">     * which to draw the chart.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> text</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNoDataText</span><span class="params">(String text)</span> </span>&#123;</div><div class="line">        mNoDataText = text;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Sets descriptive text to explain to the user why there is no chart</div><div class="line">     * available Defaults to empty if not set</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> text</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNoDataTextDescription</span><span class="params">(String text)</span> </span>&#123;</div><div class="line">        mNoDataTextDescription = text;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set this to false to disable all gestures and touches on the chart,</div><div class="line">     * default: true</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> enabled</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTouchEnabled</span><span class="params">(<span class="keyword">boolean</span> enabled)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.mTouchEnabled = enabled;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * sets the view that is displayed when a value is clicked on the chart</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> v</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMarkerView</span><span class="params">(MarkerView v)</span> </span>&#123;</div><div class="line">        mMarkerView = v;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * returns the view that is set as a marker view for the chart</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> MarkerView <span class="title">getMarkerView</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mMarkerView;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the Legend object of the chart. This method can be used to get an</div><div class="line">     * instance of the legend in order to customize the automatically generated</div><div class="line">     * Legend.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> Legend <span class="title">getLegend</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mLegend;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the renderer object responsible for rendering / drawing the</div><div class="line">     * Legend.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> LegendRenderer <span class="title">getLegendRenderer</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mLegendRenderer;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the rectangle that defines the borders of the chart-value surface</div><div class="line">     * (into which the actual values are drawn).</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> RectF <span class="title">getContentRect</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mViewPortHandler.getContentRect();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * disables intercept touchevents</div><div class="line">     * 防止事件被拦截，这个在ScrollView嵌套中有手势操作的haunted，需要用到</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">disableScroll</span><span class="params">()</span> </span>&#123;</div><div class="line">        ViewParent parent = getParent();</div><div class="line">        <span class="keyword">if</span> (parent != <span class="keyword">null</span>)</div><div class="line">            parent.requestDisallowInterceptTouchEvent(<span class="keyword">true</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * enables intercept touchevents</div><div class="line">     * 关闭后事件会被ScrollView拦截，一些手势操作会受到影响</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">enableScroll</span><span class="params">()</span> </span>&#123;</div><div class="line">        ViewParent parent = getParent();</div><div class="line">        <span class="keyword">if</span> (parent != <span class="keyword">null</span>)</div><div class="line">            parent.requestDisallowInterceptTouchEvent(<span class="keyword">false</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint for the grid background (only line and barchart)</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PAINT_GRID_BACKGROUND = <span class="number">4</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint for the info text that is displayed when there are no values in the</div><div class="line">     * chart</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PAINT_INFO = <span class="number">7</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint for the description text in the bottom right corner</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PAINT_DESCRIPTION = <span class="number">11</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint for the hole in the middle of the pie chart</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PAINT_HOLE = <span class="number">13</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint for the text in the middle of the pie chart</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PAINT_CENTER_TEXT = <span class="number">14</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint used for the legend</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PAINT_LEGEND_LABEL = <span class="number">18</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * set a new paint object for the specified parameter in the chart e.g.</div><div class="line">     * Chart.PAINT_VALUES</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> p     the new paint object</div><div class="line">     * <span class="doctag">@param</span> which Chart.PAINT_VALUES, Chart.PAINT_GRID, Chart.PAINT_VALUES,</div><div class="line">     *              ...</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPaint</span><span class="params">(Paint p, <span class="keyword">int</span> which)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">switch</span> (which) &#123;</div><div class="line">            <span class="keyword">case</span> PAINT_INFO:</div><div class="line">                mInfoPaint = p;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> PAINT_DESCRIPTION:</div><div class="line">                mDescPaint = p;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the paint object associated with the provided constant.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> which e.g. Chart.PAINT_LEGEND_LABEL</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> Paint <span class="title">getPaint</span><span class="params">(<span class="keyword">int</span> which)</span> </span>&#123;</div><div class="line">        <span class="keyword">switch</span> (which) &#123;</div><div class="line">            <span class="keyword">case</span> PAINT_INFO:</div><div class="line">                <span class="keyword">return</span> mInfoPaint;</div><div class="line">            <span class="keyword">case</span> PAINT_DESCRIPTION:</div><div class="line">                <span class="keyword">return</span> mDescPaint;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * returns true if drawing the marker-view is enabled when tapping on values</div><div class="line">     * (use the setMarkerView(View v) method to specify a marker view)</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isDrawMarkerViewEnabled</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mDrawMarkerViews;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set this to true to draw a user specified marker-view when tapping on</div><div class="line">     * chart values (use the setMarkerView(MarkerView mv) method to specify a</div><div class="line">     * marker view). Default: true</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> enabled</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDrawMarkerViews</span><span class="params">(<span class="keyword">boolean</span> enabled)</span> </span>&#123;</div><div class="line">        mDrawMarkerViews = enabled;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * returns the x-value at the given index</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> index</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getXValue</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (mData == <span class="keyword">null</span> || mData.getXValCount() &lt;= index)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="keyword">return</span> mData.getXVals().get(index);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Get all Entry objects at the given index across all DataSets.</div><div class="line">     * INFORMATION: This method does calculations at runtime. Do not over-use in</div><div class="line">     * performance critical situations.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> xIndex</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;Entry&gt; <span class="title">getEntriesAtIndex</span><span class="params">(<span class="keyword">int</span> xIndex)</span> </span>&#123;</div><div class="line"></div><div class="line">        List&lt;Entry&gt; vals = <span class="keyword">new</span> ArrayList&lt;Entry&gt;();</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mData.getDataSetCount(); i++) &#123;</div><div class="line"></div><div class="line">            IDataSet set = mData.getDataSetByIndex(i);</div><div class="line"></div><div class="line">            Entry e = set.getEntryForXIndex(xIndex);</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123;</div><div class="line">                vals.add(e);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> vals;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the ChartData object that has been set for the chart.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getData</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mData;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the ViewPortHandler of the chart that is responsible for the</div><div class="line">     * content area of the chart and its offsets and dimensions.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> ViewPortHandler <span class="title">getViewPortHandler</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mViewPortHandler;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the Renderer object the chart uses for drawing data.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> DataRenderer <span class="title">getRenderer</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mRenderer;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Sets a new DataRenderer object for the chart.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> renderer</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRenderer</span><span class="params">(DataRenderer renderer)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (renderer != <span class="keyword">null</span>)</div><div class="line">            mRenderer = renderer;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> ChartHighlighter <span class="title">getHighlighter</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mHighlighter;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Sets a custom highligher object for the chart that handles / processes</div><div class="line">     * all highlight touch events performed on the chart-view.</div><div class="line">     * 设置一个高亮工具（不同图表的高亮实现不一样，这里放了基类）</div><div class="line">     * <span class="doctag">@param</span> highlighter</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHighlighter</span><span class="params">(ChartHighlighter highlighter)</span> </span>&#123;</div><div class="line"></div><div class="line">        mHighlighter = highlighter;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> PointF <span class="title">getCenterOfView</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> getCenter();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the bitmap that represents the chart.</div><div class="line">     * 保存图片，获取图表图片（这个方法是将当前整个Canvas创建一张图片）</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> Bitmap <span class="title">getChartBitmap</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="comment">// Define a bitmap with the same size as the view</span></div><div class="line">        Bitmap returnedBitmap = Bitmap.createBitmap(getWidth(), getHeight(), Bitmap.Config.RGB_565);</div><div class="line">        <span class="comment">// Bind a canvas to it</span></div><div class="line">        Canvas canvas = <span class="keyword">new</span> Canvas(returnedBitmap);</div><div class="line">        <span class="comment">// Get the view's background</span></div><div class="line">        Drawable bgDrawable = getBackground();</div><div class="line">        <span class="keyword">if</span> (bgDrawable != <span class="keyword">null</span>)</div><div class="line">            <span class="comment">// has background drawable, then draw it on the canvas</span></div><div class="line">            bgDrawable.draw(canvas);</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="comment">// does not have background drawable, then draw white background on</span></div><div class="line">            <span class="comment">// the canvas</span></div><div class="line">            canvas.drawColor(Color.WHITE);</div><div class="line">        <span class="comment">// draw the view on the canvas</span></div><div class="line">        draw(canvas);</div><div class="line">        <span class="comment">// return the bitmap</span></div><div class="line">        <span class="keyword">return</span> returnedBitmap;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Saves the current chart state with the given name to the given path on</div><div class="line">     * the sdcard leaving the path empty "" will put the saved file directly on</div><div class="line">     * the SD card chart is saved as a PNG image, example:</div><div class="line">     * saveToPath("myfilename", "foldername1/foldername2");</div><div class="line">     * 保存图片</div><div class="line">     * <span class="doctag">@param</span> title</div><div class="line">     * <span class="doctag">@param</span> pathOnSD e.g. "folder1/folder2/folder3"</div><div class="line">     * <span class="doctag">@return</span> returns true on success, false on error</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">saveToPath</span><span class="params">(String title, String pathOnSD)</span> </span>&#123;</div><div class="line"></div><div class="line">        Bitmap b = getChartBitmap();</div><div class="line"></div><div class="line">        OutputStream stream = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            stream = <span class="keyword">new</span> FileOutputStream(Environment.getExternalStorageDirectory().getPath()</div><div class="line">                    + pathOnSD + <span class="string">"/"</span> + title</div><div class="line">                    + <span class="string">".png"</span>);</div><div class="line"></div><div class="line">            <span class="comment">/*</span></div><div class="line">             * Write bitmap to file using JPEG or PNG and 40% quality hint for</div><div class="line">             * JPEG.</div><div class="line">             */</div><div class="line">            b.compress(CompressFormat.PNG, <span class="number">40</span>, stream);</div><div class="line"></div><div class="line">            stream.close();</div><div class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Saves the current state of the chart to the gallery as an image type. The</div><div class="line">     * compression must be set for JPEG only. 0 == maximum compression, 100 = low</div><div class="line">     * compression (high quality). <span class="doctag">NOTE:</span> Needs permission WRITE_EXTERNAL_STORAGE</div><div class="line">     * 保存图片</div><div class="line">     * <span class="doctag">@param</span> fileName        e.g. "my_image"</div><div class="line">     * <span class="doctag">@param</span> subFolderPath   e.g. "ChartPics"</div><div class="line">     * <span class="doctag">@param</span> fileDescription e.g. "Chart details"</div><div class="line">     * <span class="doctag">@param</span> format          e.g. Bitmap.CompressFormat.PNG</div><div class="line">     * <span class="doctag">@param</span> quality         e.g. 50, min = 0, max = 100</div><div class="line">     * <span class="doctag">@return</span> returns true if saving was successful, false if not</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">saveToGallery</span><span class="params">(String fileName, String subFolderPath, String fileDescription, Bitmap.CompressFormat format, <span class="keyword">int</span> quality)</span> </span>&#123;</div><div class="line">        <span class="comment">// restrain quality</span></div><div class="line">        <span class="keyword">if</span> (quality &lt; <span class="number">0</span> || quality &gt; <span class="number">100</span>)</div><div class="line">            quality = <span class="number">50</span>;</div><div class="line"></div><div class="line">        <span class="keyword">long</span> currentTime = System.currentTimeMillis();</div><div class="line"></div><div class="line">        File extBaseDir = Environment.getExternalStorageDirectory();</div><div class="line">        File file = <span class="keyword">new</span> File(extBaseDir.getAbsolutePath() + <span class="string">"/DCIM/"</span> + subFolderPath);</div><div class="line">        <span class="keyword">if</span> (!file.exists()) &#123;</div><div class="line">            <span class="keyword">if</span> (!file.mkdirs()) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        String mimeType = <span class="string">""</span>;</div><div class="line">        <span class="keyword">switch</span> (format) &#123;</div><div class="line">            <span class="keyword">case</span> PNG:</div><div class="line">                mimeType = <span class="string">"image/png"</span>;</div><div class="line">                <span class="keyword">if</span> (!fileName.endsWith(<span class="string">".png"</span>))</div><div class="line">                    fileName += <span class="string">".png"</span>;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> WEBP:</div><div class="line">                mimeType = <span class="string">"image/webp"</span>;</div><div class="line">                <span class="keyword">if</span> (!fileName.endsWith(<span class="string">".webp"</span>))</div><div class="line">                    fileName += <span class="string">".webp"</span>;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> JPEG:</div><div class="line">            <span class="keyword">default</span>:</div><div class="line">                mimeType = <span class="string">"image/jpeg"</span>;</div><div class="line">                <span class="keyword">if</span> (!(fileName.endsWith(<span class="string">".jpg"</span>) || fileName.endsWith(<span class="string">".jpeg"</span>)))</div><div class="line">                    fileName += <span class="string">".jpg"</span>;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        String filePath = file.getAbsolutePath() + <span class="string">"/"</span> + fileName;</div><div class="line">        FileOutputStream out = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            out = <span class="keyword">new</span> FileOutputStream(filePath);</div><div class="line"></div><div class="line">            Bitmap b = getChartBitmap();</div><div class="line">            b.compress(format, quality, out);</div><div class="line"></div><div class="line">            out.flush();</div><div class="line">            out.close();</div><div class="line"></div><div class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line"></div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">long</span> size = <span class="keyword">new</span> File(filePath).length();</div><div class="line"></div><div class="line">        ContentValues values = <span class="keyword">new</span> ContentValues(<span class="number">8</span>);</div><div class="line"></div><div class="line">        <span class="comment">// store the details</span></div><div class="line">        values.put(Images.Media.TITLE, fileName);</div><div class="line">        values.put(Images.Media.DISPLAY_NAME, fileName);</div><div class="line">        values.put(Images.Media.DATE_ADDED, currentTime);</div><div class="line">        values.put(Images.Media.MIME_TYPE, mimeType);</div><div class="line">        values.put(Images.Media.DESCRIPTION, fileDescription);</div><div class="line">        values.put(Images.Media.ORIENTATION, <span class="number">0</span>);</div><div class="line">        values.put(Images.Media.DATA, filePath);</div><div class="line">        values.put(Images.Media.SIZE, size);</div><div class="line"></div><div class="line">        <span class="keyword">return</span> getContext().getContentResolver().insert(Images.Media.EXTERNAL_CONTENT_URI, values) != <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Saves the current state of the chart to the gallery as a JPEG image. The</div><div class="line">     * filename and compression can be set. 0 == maximum compression, 100 = low</div><div class="line">     * compression (high quality). <span class="doctag">NOTE:</span> Needs permission WRITE_EXTERNAL_STORAGE</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> fileName e.g. "my_image"</div><div class="line">     * <span class="doctag">@param</span> quality  e.g. 50, min = 0, max = 100</div><div class="line">     * <span class="doctag">@return</span> returns true if saving was successful, false if not</div><div class="line">     * 保存图片</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">saveToGallery</span><span class="params">(String fileName, <span class="keyword">int</span> quality)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> saveToGallery(fileName, <span class="string">""</span>, <span class="string">"MPAndroidChart-Library Save"</span>, Bitmap.CompressFormat.JPEG, quality);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * tasks to be done after the view is setup</div><div class="line">     * 这个Runnable列表用来存放View创建后所需的绘制</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> ArrayList&lt;Runnable&gt; mJobs = <span class="keyword">new</span> ArrayList&lt;Runnable&gt;();</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeViewportJob</span><span class="params">(Runnable job)</span> </span>&#123;</div><div class="line">        mJobs.remove(job);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clearAllViewportJobs</span><span class="params">()</span> </span>&#123;</div><div class="line">        mJobs.clear();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Either posts a job immediately if the chart has already setup it's</div><div class="line">     * dimensions or adds the job to the execution queue.</div><div class="line">     * 添加一个工作</div><div class="line">     * <span class="doctag">@param</span> job</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewportJob</span><span class="params">(Runnable job)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mViewPortHandler.hasChartDimens()) &#123;</div><div class="line">            <span class="comment">//如果View已经知道大小了，说明View已经绘制过了，直接post通知更新</span></div><div class="line">            post(job);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            mJobs.add(job);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns all jobs that are scheduled to be executed after</div><div class="line">     * onSizeChanged(...).</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Runnable&gt; <span class="title">getJobs</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mJobs;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onLayout</span><span class="params">(<span class="keyword">boolean</span> changed, <span class="keyword">int</span> left, <span class="keyword">int</span> top, <span class="keyword">int</span> right, <span class="keyword">int</span> bottom)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; getChildCount(); i++) &#123;</div><div class="line">            getChildAt(i).layout(left, top, right, bottom);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onMeasure</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> heightMeasureSpec)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onMeasure(widthMeasureSpec, heightMeasureSpec);</div><div class="line">        <span class="keyword">int</span> size = (<span class="keyword">int</span>) Utils.convertDpToPixel(<span class="number">50f</span>);</div><div class="line">        setMeasuredDimension(</div><div class="line">                Math.max(getSuggestedMinimumWidth(),</div><div class="line">                        resolveSize(size,</div><div class="line">                                widthMeasureSpec)),</div><div class="line">                Math.max(getSuggestedMinimumHeight(),</div><div class="line">                        resolveSize(size,</div><div class="line">                                heightMeasureSpec)));</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 实现了这个类用来做视图更新</div><div class="line">     * <span class="doctag">@param</span> w</div><div class="line">     * <span class="doctag">@param</span> h</div><div class="line">     * <span class="doctag">@param</span> oldw</div><div class="line">     * <span class="doctag">@param</span> oldh</div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onSizeChanged</span><span class="params">(<span class="keyword">int</span> w, <span class="keyword">int</span> h, <span class="keyword">int</span> oldw, <span class="keyword">int</span> oldh)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (mLogEnabled)</div><div class="line">            Log.i(LOG_TAG, <span class="string">"OnSizeChanged()"</span>);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (w &gt; <span class="number">0</span> &amp;&amp; h &gt; <span class="number">0</span> &amp;&amp; w &lt; <span class="number">10000</span> &amp;&amp; h &lt; <span class="number">10000</span>) &#123;</div><div class="line"></div><div class="line">            mViewPortHandler.setChartDimens(w, h);</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (mLogEnabled)</div><div class="line">                Log.i(LOG_TAG, <span class="string">"Setting chart dimens, width: "</span> + w + <span class="string">", height: "</span> + h);</div><div class="line"></div><div class="line">            <span class="keyword">for</span> (Runnable r : mJobs) &#123;</div><div class="line">                post(r);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            mJobs.clear();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        notifyDataSetChanged();</div><div class="line"></div><div class="line">        <span class="keyword">super</span>.onSizeChanged(w, h, oldw, oldh);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Setting this to true will set the layer-type HARDWARE for the view, false</div><div class="line">     * will set layer-type SOFTWARE.</div><div class="line">     * 是否开启硬件加速</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> enabled</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHardwareAccelerationEnabled</span><span class="params">(<span class="keyword">boolean</span> enabled)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (android.os.Build.VERSION.SDK_INT &gt;= <span class="number">11</span>) &#123;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (enabled)</div><div class="line">                setLayerType(View.LAYER_TYPE_HARDWARE, <span class="keyword">null</span>);</div><div class="line">            <span class="keyword">else</span></div><div class="line">                setLayerType(View.LAYER_TYPE_SOFTWARE, <span class="keyword">null</span>);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            Log.e(LOG_TAG,</div><div class="line">                    <span class="string">"Cannot enable/disable hardware acceleration for devices below API level 11."</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDetachedFromWindow</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onDetachedFromWindow();</div><div class="line"></div><div class="line">        <span class="comment">//Log.i(LOG_TAG, "Detaching...");</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mUnbind)</div><div class="line">            unbindDrawables(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * unbind flag</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> mUnbind = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Unbind all drawables to avoid memory leaks.</div><div class="line">     * Link: http://stackoverflow.com/a/6779164/1590502</div><div class="line">     * 防止内存泄漏</div><div class="line">     * <span class="doctag">@param</span> view</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">unbindDrawables</span><span class="params">(View view)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (view.getBackground() != <span class="keyword">null</span>) &#123;</div><div class="line">            view.getBackground().setCallback(<span class="keyword">null</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (view <span class="keyword">instanceof</span> ViewGroup) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ((ViewGroup) view).getChildCount(); i++) &#123;</div><div class="line">                unbindDrawables(((ViewGroup) view).getChildAt(i));</div><div class="line">            &#125;</div><div class="line">            ((ViewGroup) view).removeAllViews();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Set this to true to enable "unbinding" of drawables. When a View is detached</div><div class="line">     * from a window. This helps avoid memory leaks.</div><div class="line">     * Default: false</div><div class="line">     * Link: http://stackoverflow.com/a/6779164/1590502</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> enabled</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUnbindEnabled</span><span class="params">(<span class="keyword">boolean</span> enabled)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.mUnbind = enabled;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>它是所有图表的基类，里面是一些基础的方法，包括数据，描述，空数据等公用方法的绘制。保存当前图表信息等…<br>继承结构如下</p>
<ol>
<li>Chart(图表类基类)<ol>
<li>BarLineChartBase（柱状图折线图抽象类）<ol>
<li>BubbleChart（气泡图)</li>
<li>CandleStickChart（烛状图）</li>
<li>CombinedChart（复合图表)</li>
<li>BarChart（柱状图）</li>
<li>LineChart（折线图）</li>
<li>ScatterChart（散点图）</li>
</ol>
</li>
<li>PieRadarChartBase(饼状图雷达图抽象类）<ol>
<li>PieChart（饼状图）</li>
<li>RadarChart（雷达图）</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>根据不同的图表做了不同的实现，比如说BarLineChartBase都有一个共同的属性是XY轴，在onDraw方法中对XY轴做了绘制，BarLineChartBase还支持缩放操作。PieRadarBase是没有XY轴且不支持缩放操作，但支持旋转。所以将这两个图单独抽象了一层。<br>onDraw算是共有的主要方法。因为数据绘制都是在onDraw方法中的canvas上面。</p>
<p>下面来讲解一下MPAndroidChart的绘制过程</p>
<h2 id="MPAndroidChart绘制过程"><a href="#MPAndroidChart绘制过程" class="headerlink" title="MPAndroidChart绘制过程"></a>MPAndroidChart绘制过程</h2><p>所有的绘制都做了抽象在这边基本能重用的方法就做一层抽象。<br>我们来看一下最底层的抽象Renderer类<br>Chart的绘制是经由Renderer类之手，看一下Renderer类的实现。</p>
<h3 id="Render"><a href="#Render" class="headerlink" title="Render"></a>Render</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Abstract baseclass of all Renderers.</div><div class="line"> * </div><div class="line"> * <span class="doctag">@author</span> Philipp Jahoda</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Renderer</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * the component that handles the drawing area of the chart and it's offsets</div><div class="line">     * 这个方法用来控制绘制区域还有偏移量等设置</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> ViewPortHandler mViewPortHandler;</div><div class="line"></div><div class="line">    <span class="comment">/** the minimum value on the x-axis that should be plotted</span></div><div class="line">     * X轴需要绘制的最小值</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> mMinX = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="comment">/** the maximum value on the x-axis that should be plotted </span></div><div class="line">    * X轴需要绘制的最大值</div><div class="line">    */</div><div class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> mMaxX = <span class="number">0</span>;</div><div class="line">	</div><div class="line">	<span class="comment">/**</span></div><div class="line">	 * 这边通过构造传入ViewPortHandler</div><div class="line">	 */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Renderer</span><span class="params">(ViewPortHandler viewPortHandler)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.mViewPortHandler = viewPortHandler;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns true if the specified value fits in between the provided min</div><div class="line">     * and max bounds, false if not.</div><div class="line">     * 这个方法用来计算当前的值是否在X的最小和最大之间</div><div class="line">     * <span class="doctag">@param</span> val</div><div class="line">     * <span class="doctag">@param</span> min</div><div class="line">     * <span class="doctag">@param</span> max</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">fitsBounds</span><span class="params">(<span class="keyword">float</span> val, <span class="keyword">float</span> min, <span class="keyword">float</span> max)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (val &lt; min || val &gt; max)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Calculates the minimum and maximum x-value the chart can currently</div><div class="line">     * display (with the given zoom level). -&gt; mMinX, mMaxX</div><div class="line">     * 这个方法用来计算当前可以显示的X的大小，</div><div class="line">     * <span class="doctag">@param</span> dataProvider</div><div class="line">     * <span class="doctag">@param</span> xAxisModulus</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">calcXBounds</span><span class="params">(BarLineScatterCandleBubbleDataProvider dataProvider, <span class="keyword">int</span> xAxisModulus)</span> </span>&#123;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> low = dataProvider.getLowestVisibleXIndex();</div><div class="line">        <span class="keyword">int</span> high = dataProvider.getHighestVisibleXIndex();</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> subLow = (low % xAxisModulus == <span class="number">0</span>) ? xAxisModulus : <span class="number">0</span>;</div><div class="line">        </div><div class="line">        mMinX = Math.max((low / xAxisModulus) * (xAxisModulus) - subLow, <span class="number">0</span>);</div><div class="line">        mMaxX = Math.min((high / xAxisModulus) * (xAxisModulus) + xAxisModulus, (<span class="keyword">int</span>) dataProvider.getXChartMax());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>注释写得很详细，这个类里面的方法用来确定当前视图可显示的大小，所有的Render类都继承自它。包括AxisRenderer（轴和轴值绘制），LegendRender（图例绘制）,DataRender（图表图形绘制）。<br>AxisRenderer，和LegendRender的实现都大同小异，DataRender属于图表绘制的抽象，因为图表的样式比较多，它扩展了一些可以供图表使用的方法，接下来主要拿DataRender来讲。</p>
<h3 id="DataRender"><a href="#DataRender" class="headerlink" title="DataRender"></a>DataRender</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Superclass of all render classes for the different data types (line, bar, ...).</div><div class="line"> * 这个类是Renderer的子类，用来提供一些抽象的绘制方法。</div><div class="line"> * <span class="doctag">@author</span> Philipp Jahoda</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">DataRenderer</span> <span class="keyword">extends</span> <span class="title">Renderer</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * the animator object used to perform animations on the chart data</div><div class="line">     * 这个对象是用来设置图表动画的</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> ChartAnimator mAnimator;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * main paint object used for rendering</div><div class="line">     * 初始化图表item绘制的画笔</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> Paint mRenderPaint;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint used for highlighting values</div><div class="line">     * 绘制高亮区域</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> Paint mHighlightPaint;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 这个没见用到</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> Paint mDrawPaint;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * paint object for drawing values (text representing values of chart</div><div class="line">     * entries)</div><div class="line">     * 这个用来绘制图表的文本信息</div><div class="line">     */</div><div class="line">    <span class="keyword">protected</span> Paint mValuePaint;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 构造函数传入了动画对象ChartAnimator，控制绘制区域和偏移量的对象ViewPortHandler</div><div class="line">     * <span class="doctag">@param</span> animator</div><div class="line">     * <span class="doctag">@param</span> viewPortHandler</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DataRenderer</span><span class="params">(ChartAnimator animator, ViewPortHandler viewPortHandler)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(viewPortHandler);</div><div class="line">        <span class="keyword">this</span>.mAnimator = animator;</div><div class="line"></div><div class="line">        mRenderPaint = <span class="keyword">new</span> Paint(Paint.ANTI_ALIAS_FLAG);</div><div class="line">        mRenderPaint.setStyle(Style.FILL);</div><div class="line"></div><div class="line">        mDrawPaint = <span class="keyword">new</span> Paint(Paint.DITHER_FLAG);</div><div class="line"></div><div class="line">        mValuePaint = <span class="keyword">new</span> Paint(Paint.ANTI_ALIAS_FLAG);</div><div class="line">        mValuePaint.setColor(Color.rgb(<span class="number">63</span>, <span class="number">63</span>, <span class="number">63</span>));</div><div class="line">        mValuePaint.setTextAlign(Align.CENTER);</div><div class="line">        mValuePaint.setTextSize(Utils.convertDpToPixel(<span class="number">9f</span>));</div><div class="line"></div><div class="line">        mHighlightPaint = <span class="keyword">new</span> Paint(Paint.ANTI_ALIAS_FLAG);</div><div class="line">        mHighlightPaint.setStyle(Paint.Style.STROKE);</div><div class="line">        mHighlightPaint.setStrokeWidth(<span class="number">2f</span>);</div><div class="line">        mHighlightPaint.setColor(Color.rgb(<span class="number">255</span>, <span class="number">187</span>, <span class="number">115</span>));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the Paint object this renderer uses for drawing the values</div><div class="line">     * (value-text).</div><div class="line">     * 这个方法返回了文本绘制的画笔对象</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> Paint <span class="title">getPaintValues</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mValuePaint;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the Paint object this renderer uses for drawing highlight</div><div class="line">     * indicators.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> Paint <span class="title">getPaintHighlight</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mHighlightPaint;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Returns the Paint object used for rendering.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> Paint <span class="title">getPaintRender</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> mRenderPaint;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Applies the required styling (provided by the DataSet) to the value-paint</div><div class="line">     * object.</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> set</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">applyValueTextStyle</span><span class="params">(IDataSet set)</span> </span>&#123;</div><div class="line"></div><div class="line">        mValuePaint.setTypeface(set.getValueTypeface());</div><div class="line">        mValuePaint.setTextSize(set.getValueTextSize());</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Initializes the buffers used for rendering with a new size. Since this</div><div class="line">     * method performs memory allocations, it should only be called if</div><div class="line">     * necessary.</div><div class="line">     * 初始化Buffers，buffer是用来进行尺寸变换的一个类，他和transformer类配合生成实际的尺寸</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">initBuffers</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Draws the actual data in form of lines, bars, ... depending on Renderer subclass.</div><div class="line">     * 数据绘制抽象类</div><div class="line">     * <span class="doctag">@param</span> c</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">drawData</span><span class="params">(Canvas c)</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Loops over all Entrys and draws their values.</div><div class="line">     *数值绘制抽象类</div><div class="line">     * <span class="doctag">@param</span> c</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">drawValues</span><span class="params">(Canvas c)</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Draws the value of the given entry by using the provided ValueFormatter.</div><div class="line">     * 数值绘制</div><div class="line">     * <span class="doctag">@param</span> c            canvas</div><div class="line">     * <span class="doctag">@param</span> formatter    formatter for custom value-formatting</div><div class="line">     * <span class="doctag">@param</span> value        the value to be drawn</div><div class="line">     * <span class="doctag">@param</span> entry        the entry the value belongs to</div><div class="line">     * <span class="doctag">@param</span> dataSetIndex the index of the DataSet the drawn Entry belongs to</div><div class="line">     * <span class="doctag">@param</span> x            position</div><div class="line">     * <span class="doctag">@param</span> y            position</div><div class="line">     * <span class="doctag">@param</span> color</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawValue</span><span class="params">(Canvas c, ValueFormatter formatter, <span class="keyword">float</span> value, Entry entry, <span class="keyword">int</span> dataSetIndex, <span class="keyword">float</span> x, <span class="keyword">float</span> y, <span class="keyword">int</span> color)</span> </span>&#123;</div><div class="line">        mValuePaint.setColor(color);</div><div class="line">        c.drawText(formatter.getFormattedValue(value, entry, dataSetIndex, mViewPortHandler), x, y, mValuePaint);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Draws any kind of additional information (e.g. line-circles).</div><div class="line">     * 这个是为LineChart 或者PieChart等设计的附加绘制。因为lineChart需要为每个点进行绘制，PieChart可能需要绘制中间圆形等。</div><div class="line">     * <span class="doctag">@param</span> c</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">drawExtras</span><span class="params">(Canvas c)</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Draws all highlight indicators for the values that are currently highlighted.</div><div class="line">     * 绘制高亮数据</div><div class="line">     * <span class="doctag">@param</span> c</div><div class="line">     * <span class="doctag">@param</span> indices the highlighted values</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">drawHighlighted</span><span class="params">(Canvas c, Highlight[] indices)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>DataRender里面的方法大致如下</p>
<ol>
<li>图表的绘制抽象方法 (drawData)</li>
<li>数值绘制的抽象方法 (drawValues)</li>
<li>数值绘制方法（drawValue）</li>
<li>图表高亮抽象方法（drawHighlighted）</li>
<li>动画对象和画笔对象的初始化(构造函数)</li>
</ol>
<p>看一下BarChartRender的实现</p>
<h3 id="BarChartRender"><a href="#BarChartRender" class="headerlink" title="BarChartRender"></a>BarChartRender</h3><pre><code class="java">
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BarChartRenderer</span> <span class="keyword">extends</span> <span class="title">DataRenderer</span> </span>{
    <span class="comment">/**
     * BarDataProvider这个类中存放了所有的barData，还有一些类似于阴影，数值位置，高亮箭头等。
     */</span>
    <span class="keyword">protected</span> BarDataProvider mChart;

    <span class="comment">/** the rect object that is used for drawing the bars
     *  这个是用来设置每条bar的大小。主要是用做高亮绘制
     */</span>
    <span class="keyword">protected</span> RectF mBarRect = <span class="keyword">new</span> RectF();
    <span class="comment">/**
     * 声明buffer的数组
     */</span>
    <span class="keyword">protected</span> BarBuffer[] mBarBuffers;
    <span class="comment">/**
     * 阴影画笔
     */</span>
    <span class="keyword">protected</span> Paint mShadowPaint;
    <span class="comment">/**
     * 边框画笔
     */</span>
    <span class="keyword">protected</span> Paint mBarBorderPaint;

    <span class="comment">/**
     * 构造函数传入了BarDataProvider,动画类，显示位置控制类，初始化了绘制所需的画笔
     * <span class="doctag">@param</span> chart
     * <span class="doctag">@param</span> animator
     * <span class="doctag">@param</span> viewPortHandler
     */</span>
    <span class="function"><span class="keyword">public</span> <span class="title">BarChartRenderer</span><span class="params">(BarDataProvider chart, ChartAnimator animator,
            ViewPortHandler viewPortHandler)</span> </span>{
        <span class="keyword">super</span>(animator, viewPortHandler);
        <span class="keyword">this</span>.mChart = chart;

        mHighlightPaint = <span class="keyword">new</span> Paint(Paint.ANTI_ALIAS_FLAG);
        mHighlightPaint.setStyle(Paint.Style.FILL);
        mHighlightPaint.setColor(Color.rgb(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));
        <span class="comment">// set alpha after color</span>
        mHighlightPaint.setAlpha(<span class="number">120</span>);

        mShadowPaint = <span class="keyword">new</span> Paint(Paint.ANTI_ALIAS_FLAG);
        mShadowPaint.setStyle(Paint.Style.FILL);

        mBarBorderPaint = <span class="keyword">new</span> Paint(Paint.ANTI_ALIAS_FLAG);
        mBarBorderPaint.setStyle(Paint.Style.STROKE);
    }

    <span class="comment">/**
     * 初始化Buffer
     */</span>
    <span class="meta">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initBuffers</span><span class="params">()</span> </span>{

        BarData barData = mChart.getBarData();
        mBarBuffers = <span class="keyword">new</span> BarBuffer[barData.getDataSetCount()];

        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mBarBuffers.length; i++) {
            IBarDataSet set = barData.getDataSetByIndex(i);
            mBarBuffers[i] = <span class="keyword">new</span> BarBuffer(set.getEntryCount() * <span class="number">4</span> * (set.isStacked() ? set.getStackSize() : <span class="number">1</span>),
                    barData.getGroupSpace(),
                    barData.getDataSetCount(), set.isStacked());
        }
    }

    <span class="comment">/**
     * 绘制图表
     * <span class="doctag">@param</span> c
     */</span>
    <span class="meta">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawData</span><span class="params">(Canvas c)</span> </span>{

        BarData barData = mChart.getBarData();

        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; barData.getDataSetCount(); i++) {

            IBarDataSet set = barData.getDataSetByIndex(i);

            <span class="keyword">if</span> (set.isVisible() &amp;&amp; set.getEntryCount() &gt; <span class="number">0</span>) {
                drawDataSet(c, set, i);
            }
        }
    }

    <span class="comment">/**
     * 根据每个dataset绘制图表
     * <span class="doctag">@param</span> c
     * <span class="doctag">@param</span> dataSet
     * <span class="doctag">@param</span> index
     */</span>
    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">drawDataSet</span><span class="params">(Canvas c, IBarDataSet dataSet, <span class="keyword">int</span> index)</span> </span>{

        Transformer trans = mChart.getTransformer(dataSet.getAxisDependency());

        mShadowPaint.setColor(dataSet.getBarShadowColor());
        mBarBorderPaint.setColor(dataSet.getBarBorderColor());
        mBarBorderPaint.setStrokeWidth(Utils.convertDpToPixel(dataSet.getBarBorderWidth()));

        <span class="keyword">final</span> <span class="keyword">boolean</span> drawBorder = dataSet.getBarBorderWidth() &gt; <span class="number">0</span>.f;

        <span class="keyword">float</span> phaseX = mAnimator.getPhaseX();
        <span class="keyword">float</span> phaseY = mAnimator.getPhaseY();

        <span class="comment">// initialize the buffer</span>
        BarBuffer buffer = mBarBuffers[index];
        buffer.setPhases(phaseX, phaseY);
        buffer.setBarSpace(dataSet.getBarSpace());
        buffer.setDataSet(index);
        buffer.setInverted(mChart.isInverted(dataSet.getAxisDependency()));

        buffer.feed(dataSet);

        trans.pointValuesToPixel(buffer.buffer);

        <span class="comment">// draw the bar shadow before the values</span>
        <span class="keyword">if</span> (mChart.isDrawBarShadowEnabled()) {

            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; buffer.size(); j += <span class="number">4</span>) {

                <span class="keyword">if</span> (!mViewPortHandler.isInBoundsLeft(buffer.buffer[j + <span class="number">2</span>]))
                    <span class="keyword">continue</span>;

                <span class="keyword">if</span> (!mViewPortHandler.isInBoundsRight(buffer.buffer[j]))
                    <span class="keyword">break</span>;

                c.drawRect(buffer.buffer[j], mViewPortHandler.contentTop(),
                        buffer.buffer[j + <span class="number">2</span>],
                        mViewPortHandler.contentBottom(), mShadowPaint);
            }
        }

        <span class="comment">// if multiple colors</span>
        <span class="keyword">if</span> (dataSet.getColors().size() &gt; <span class="number">1</span>) {

            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; buffer.size(); j += <span class="number">4</span>) {

                <span class="keyword">if</span> (!mViewPortHandler.isInBoundsLeft(buffer.buffer[j + <span class="number">2</span>]))
                    <span class="keyword">continue</span>;

                <span class="keyword">if</span> (!mViewPortHandler.isInBoundsRight(buffer.buffer[j]))
                    <span class="keyword">break</span>;

                <span class="comment">// Set the color for the currently drawn value. If the index</span>
                <span class="comment">// is out of bounds, reuse colors.</span>
                mRenderPaint.setColor(dataSet.getColor(j / <span class="number">4</span>));
                c.drawRect(buffer.buffer[j], buffer.buffer[j + <span class="number">1</span>], buffer.buffer[j + <span class="number">2</span>],
                        buffer.buffer[j + <span class="number">3</span>], mRenderPaint);

                <span class="keyword">if</span> (drawBorder) {
                    c.drawRect(buffer.buffer[j], buffer.buffer[j + <span class="number">1</span>], buffer.buffer[j + <span class="number">2</span>],
                            buffer.buffer[j + <span class="number">3</span>], mBarBorderPaint);
                }
            }
        } <span class="keyword">else</span> {

            mRenderPaint.setColor(dataSet.getColor());

            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; buffer.size(); j += <span class="number">4</span>) {

                <span class="keyword">if</span> (!mViewPortHandler.isInBoundsLeft(buffer.buffer[j + <span class="number">2</span>]))
                    <span class="keyword">continue</span>;

                <span class="keyword">if</span> (!mViewPortHandler.isInBoundsRight(buffer.buffer[j]))
                    <span class="keyword">break</span>;

                c.drawRect(buffer.buffer[j], buffer.buffer[j + <span class="number">1</span>], buffer.buffer[j + <span class="number">2</span>],
                        buffer.buffer[j + <span class="number">3</span>], mRenderPaint);

                <span class="keyword">if</span> (drawBorder) {
                    c.drawRect(buffer.buffer[j], buffer.buffer[j + <span class="number">1</span>], buffer.buffer[j + <span class="number">2</span>],
                            buffer.buffer[j + <span class="number">3</span>], mBarBorderPaint);
                }
            }
        }
    }

    <span class="comment">/**
     * Prepares a bar for being highlighted.
     * 准备高亮的区域
     * <span class="doctag">@param</span> x the x-position
     * <span class="doctag">@param</span> y1 the y1-position
     * <span class="doctag">@param</span> y2 the y2-position
     * <span class="doctag">@param</span> barspaceHalf the space between bars
     * <span class="doctag">@param</span> trans
     */</span>
    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">prepareBarHighlight</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y1, <span class="keyword">float</span> y2, <span class="keyword">float</span> barspaceHalf,
            Transformer trans)</span> </span>{

        <span class="keyword">float</span> barWidth = <span class="number">0.5f</span>;

        <span class="keyword">float</span> left = x - barWidth + barspaceHalf;
        <span class="keyword">float</span> right = x + barWidth - barspaceHalf;
        <span class="keyword">float</span> top = y1;
        <span class="keyword">float</span> bottom = y2;

        mBarRect.set(left, top, right, bottom);

        trans.rectValueToPixel(mBarRect, mAnimator.getPhaseY());
    }

    <span class="comment">/**
     * 绘制数值
     * <span class="doctag">@param</span> c
     */</span>
    <span class="meta">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawValues</span><span class="params">(Canvas c)</span> </span>{
        <span class="comment">// if values are drawn</span>
        <span class="keyword">if</span> (passesCheck()) {

            List&lt;IBarDataSet&gt; dataSets = mChart.getBarData().getDataSets();

            <span class="keyword">final</span> <span class="keyword">float</span> valueOffsetPlus = Utils.convertDpToPixel(<span class="number">4.5f</span>);
            <span class="keyword">float</span> posOffset = <span class="number">0f</span>;
            <span class="keyword">float</span> negOffset = <span class="number">0f</span>;
            <span class="keyword">boolean</span> drawValueAboveBar = mChart.isDrawValueAboveBarEnabled();

            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mChart.getBarData().getDataSetCount(); i++) {

                IBarDataSet dataSet = dataSets.get(i);

                <span class="keyword">if</span> (!dataSet.isDrawValuesEnabled() || dataSet.getEntryCount() == <span class="number">0</span>)
                    <span class="keyword">continue</span>;

                <span class="comment">// apply the text-styling defined by the DataSet</span>
                applyValueTextStyle(dataSet);

                <span class="keyword">boolean</span> isInverted = mChart.isInverted(dataSet.getAxisDependency());

                <span class="comment">// calculate the correct offset depending on the draw position of</span>
                <span class="comment">// the value</span>
                <span class="keyword">float</span> valueTextHeight = Utils.calcTextHeight(mValuePaint, <span class="string">"8"</span>);
                posOffset = (drawValueAboveBar ? -valueOffsetPlus : valueTextHeight + valueOffsetPlus);
                negOffset = (drawValueAboveBar ? valueTextHeight + valueOffsetPlus : -valueOffsetPlus);

                <span class="keyword">if</span> (isInverted) {
                    posOffset = -posOffset - valueTextHeight;
                    negOffset = -negOffset - valueTextHeight;
                }

                Transformer trans = mChart.getTransformer(dataSet.getAxisDependency());

                <span class="keyword">float</span>[] valuePoints = getTransformedValues(trans, dataSet, i);

                <span class="comment">// if only single values are drawn (sum)</span>
                <span class="keyword">if</span> (!dataSet.isStacked()) {

                    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; valuePoints.length * mAnimator.getPhaseX(); j += <span class="number">2</span>) {

                        <span class="keyword">if</span> (!mViewPortHandler.isInBoundsRight(valuePoints[j]))
                            <span class="keyword">break</span>;

                        <span class="keyword">if</span> (!mViewPortHandler.isInBoundsY(valuePoints[j + <span class="number">1</span>])
                                || !mViewPortHandler.isInBoundsLeft(valuePoints[j]))
                            <span class="keyword">continue</span>;

                        BarEntry entry = dataSet.getEntryForIndex(j / <span class="number">2</span>);
                        <span class="keyword">float</span> val = entry.getVal();

                        drawValue(c, dataSet.getValueFormatter(), val, entry, i, valuePoints[j],
                                valuePoints[j + <span class="number">1</span>] + (val &gt;= <span class="number">0</span> ? posOffset : negOffset), dataSet.getValueTextColor(j / <span class="number">2</span>));
                    }

                    <span class="comment">// if we have stacks</span>
                } <span class="keyword">else</span> {

                    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; (valuePoints.length - <span class="number">1</span>) * mAnimator.getPhaseX(); j += <span class="number">2</span>) {

                        BarEntry entry = dataSet.getEntryForIndex(j / <span class="number">2</span>);

                        <span class="keyword">float</span>[] vals = entry.getVals();

                        <span class="comment">// we still draw stacked bars, but there is one</span>
                        <span class="comment">// non-stacked</span>
                        <span class="comment">// in between</span>
                        <span class="keyword">if</span> (vals == <span class="keyword">null</span>) {

                            <span class="keyword">if</span> (!mViewPortHandler.isInBoundsRight(valuePoints[j]))
                                <span class="keyword">break</span>;

                            <span class="keyword">if</span> (!mViewPortHandler.isInBoundsY(valuePoints[j + <span class="number">1</span>])
                                    || !mViewPortHandler.isInBoundsLeft(valuePoints[j]))
                                <span class="keyword">continue</span>;

                            drawValue(c, dataSet.getValueFormatter(), entry.getVal(), entry, i, valuePoints[j],
                                    valuePoints[j + <span class="number">1</span>] + (entry.getVal() &gt;= <span class="number">0</span> ? posOffset : negOffset), dataSet.getValueTextColor(j / <span class="number">2</span>));

                            <span class="comment">// draw stack values</span>
                        } <span class="keyword">else</span> {

                            <span class="keyword">int</span> color = dataSet.getValueTextColor(j / <span class="number">2</span>);

                            <span class="keyword">float</span>[] transformed = <span class="keyword">new</span> <span class="keyword">float</span>[vals.length * <span class="number">2</span>];

                            <span class="keyword">float</span> posY = <span class="number">0f</span>;
                            <span class="keyword">float</span> negY = -entry.getNegativeSum();

                            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>, idx = <span class="number">0</span>; k &lt; transformed.length; k += <span class="number">2</span>, idx++) {

                                <span class="keyword">float</span> value = vals[idx];
                                <span class="keyword">float</span> y;

                                <span class="keyword">if</span> (value &gt;= <span class="number">0f</span>) {
                                    posY += value;
                                    y = posY;
                                } <span class="keyword">else</span> {
                                    y = negY;
                                    negY -= value;
                                }

                                transformed[k + <span class="number">1</span>] = y * mAnimator.getPhaseY();
                            }

                            trans.pointValuesToPixel(transformed);

                            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; transformed.length; k += <span class="number">2</span>) {

                                <span class="keyword">float</span> x = valuePoints[j];
                                <span class="keyword">float</span> y = transformed[k + <span class="number">1</span>]
                                        + (vals[k / <span class="number">2</span>] &gt;= <span class="number">0</span> ? posOffset : negOffset);

                                <span class="keyword">if</span> (!mViewPortHandler.isInBoundsRight(x))
                                    <span class="keyword">break</span>;

                                <span class="keyword">if</span> (!mViewPortHandler.isInBoundsY(y)
                                        || !mViewPortHandler.isInBoundsLeft(x))
                                    <span class="keyword">continue</span>;

                                drawValue(c, dataSet.getValueFormatter(), vals[k / <span class="number">2</span>], entry, i, x, y, color);
                            }
                        }
                    }
                }
            }
        }
    }

    <span class="comment">/**
     * 绘制高亮
     * <span class="doctag">@param</span> c
     * <span class="doctag">@param</span> indices the highlighted values
     */</span>
    <span class="meta">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawHighlighted</span><span class="params">(Canvas c, Highlight[] indices)</span> </span>{

        BarData barData = mChart.getBarData();
        <span class="keyword">int</span> setCount = barData.getDataSetCount();

        <span class="keyword">for</span> (Highlight high : indices) {

            <span class="keyword">final</span> <span class="keyword">int</span> minDataSetIndex = high.getDataSetIndex() == -<span class="number">1</span>
                    ? <span class="number">0</span>
                    : high.getDataSetIndex();
            <span class="keyword">final</span> <span class="keyword">int</span> maxDataSetIndex = high.getDataSetIndex() == -<span class="number">1</span>
                    ? barData.getDataSetCount()
                    : (high.getDataSetIndex() + <span class="number">1</span>);
            <span class="keyword">if</span> (maxDataSetIndex - minDataSetIndex &lt; <span class="number">1</span>) <span class="keyword">continue</span>;

            <span class="keyword">for</span> (<span class="keyword">int</span> dataSetIndex = minDataSetIndex;
                    dataSetIndex &lt; maxDataSetIndex;
                    dataSetIndex++) {

                IBarDataSet set = barData.getDataSetByIndex(dataSetIndex);

                <span class="keyword">if</span> (set == <span class="keyword">null</span> || !set.isHighlightEnabled())
                    <span class="keyword">continue</span>;

                <span class="keyword">float</span> barspaceHalf = set.getBarSpace() / <span class="number">2f</span>;

                Transformer trans = mChart.getTransformer(set.getAxisDependency());

                mHighlightPaint.setColor(set.getHighLightColor());
                mHighlightPaint.setAlpha(set.getHighLightAlpha());

                <span class="keyword">int</span> index = high.getXIndex();

                <span class="comment">// check outofbounds</span>
                <span class="keyword">if</span> (index &gt;= <span class="number">0</span>
                        &amp;&amp; index &lt; (mChart.getXChartMax() * mAnimator.getPhaseX()) / setCount) {

                    BarEntry e = set.getEntryForXIndex(index);

                    <span class="keyword">if</span> (e == <span class="keyword">null</span> || e.getXIndex() != index)
                        <span class="keyword">continue</span>;

                    <span class="keyword">float</span> groupspace = barData.getGroupSpace();
                    <span class="keyword">boolean</span> isStack = high.getStackIndex() &lt; <span class="number">0</span> ? <span class="keyword">false</span> : <span class="keyword">true</span>;

                    <span class="comment">// calculate the correct x-position</span>
                    <span class="keyword">float</span> x = index * setCount + dataSetIndex + groupspace / <span class="number">2f</span>
                            + groupspace * index;

                    <span class="keyword">final</span> <span class="keyword">float</span> y1;
                    <span class="keyword">final</span> <span class="keyword">float</span> y2;

                    <span class="keyword">if</span> (isStack) {
                        y1 = high.getRange().from;
                        y2 = high.getRange().to;
                    } <span class="keyword">else</span> {
                        y1 = e.getVal();
                        y2 = <span class="number">0</span>.f;
                    }

                    prepareBarHighlight(x, y1, y2, barspaceHalf, trans);

                    c.drawRect(mBarRect, mHighlightPaint);

                    <span class="keyword">if</span> (mChart.isDrawHighlightArrowEnabled()) {

                        mHighlightPaint.setAlpha(<span class="number">255</span>);

                        <span class="comment">// distance between highlight arrow and bar</span>
                        <span class="keyword">float</span> offsetY = mAnimator.getPhaseY() * <span class="number">0.07f</span>;

                        <span class="keyword">float</span>[] values = <span class="keyword">new</span> <span class="keyword">float</span>[<span class="number">9</span>];
                        trans.getPixelToValueMatrix().getValues(values);
                        <span class="keyword">final</span> <span class="keyword">float</span> xToYRel = Math.abs(
                                values[Matrix.MSCALE_Y] / values[Matrix.MSCALE_X]);

                        <span class="keyword">final</span> <span class="keyword">float</span> arrowWidth = set.getBarSpace() / <span class="number">2</span>.f;
                        <span class="keyword">final</span> <span class="keyword">float</span> arrowHeight = arrowWidth * xToYRel;

                        <span class="keyword">final</span> <span class="keyword">float</span> yArrow = (y1 &gt; -y2 ? y1 : y1) * mAnimator.getPhaseY();

                        Path arrow = <span class="keyword">new</span> Path();
                        arrow.moveTo(x + <span class="number">0.4f</span>, yArrow + offsetY);
                        arrow.lineTo(x + <span class="number">0.4f</span> + arrowWidth, yArrow + offsetY - arrowHeight);
                        arrow.lineTo(x + <span class="number">0.4f</span> + arrowWidth, yArrow + offsetY + arrowHeight);

                        trans.pathValueToPixel(arrow);
                        c.drawPath(arrow, mHighlightPaint);
                    }
                }
            }
        }
    }

    <span class="keyword">public</span> <span class="keyword">float</span>[] getTransformedValues(Transformer trans, IBarDataSet data,
            <span class="keyword">int</span> dataSetIndex) {
        <span class="keyword">return</span> trans.generateTransformedValuesBarChart(data, dataSetIndex,
                mChart.getBarData(),
                mAnimator.getPhaseY());
    }

    <span class="comment">/**
     * 检查是否为可显示的值
     * <span class="doctag">@return</span>
     */</span>
    <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">passesCheck</span><span class="params">()</span> </span>{
        <span class="keyword">return</span> mChart.getBarData().getYValCount() &lt; mChart.getMaxVisibleCount()
                * mViewPortHandler.getScaleX();
    }

    <span class="comment">/**
     * 绘制其他
     * <span class="doctag">@param</span> c
     */</span>
    <span class="meta">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawExtras</span><span class="params">(Canvas c)</span> </span>{ }
}
</code></pre>
<p>可以看到里面就是图表项和文本绘制的具体实现了，主要方法是drawvalues方法，大致就是一些通过一些方法计算每条bar的值，然后进行绘制。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在这边简单讲解一下设计的方法。因为所有的Chart都继承了ViewGroup，实现了View的onMeasure,onDraw,onLayout，onSizeChanged方法，所以它是可以像自定义控件一样来使用。<br>View的绘制都再Render中实现，不同图表实现了不同的Render，继承结构大概如下：</p>
<ol>
<li>Render基类<ol>
<li>AxisRender（轴绘制）</li>
<li>DataRender（图表绘制抽象类）<ol>
<li>CombinedChartRender（复合图表绘制，这个类是3.0版本添加的，可以展示折线图，柱状图，散点图等混合）</li>
<li>BubbleChartRenderer(气泡图绘制)</li>
<li>BarChartRender(柱状图绘制)</li>
<li>LineScatterCandleRadarRenderer（折线图，散点图，烛状图，雷达图抽象类）<ol>
<li>LineRadarRenderer（折线图，雷达图抽象）<ol>
<li>LineChartRender(折线图绘制类)</li>
<li>RadarChartRender(雷达图绘制类)</li>
</ol>
</li>
<li>ScatterChartRender(散点图绘制) </li>
<li>CandleStickChartRenderer（烛状图绘制）</li>
</ol>
</li>
</ol>
</li>
<li>LegendRender（图例绘制）</li>
</ol>
</li>
</ol>
<p>在不同的图表构造中初始化不同的将mRender对象初始化成不同的图表的Render对象，这里传入的参数有</p>
<ol>
<li>不同图表的DataProvider（DataProvider是一个接口，实现了获取Y轴方向（左或右），和获取数据的方法）。</li>
<li>ChartAnimator这是一个动画类，执行动画效果</li>
<li>ViewPortHandler 图表信息类，包括边距，大小，转换等级（缩放）<br>之后这些Render类就根据自己的实现在canvas上面绘制东西了。</li>
</ol>
<h2 id="其他补充"><a href="#其他补充" class="headerlink" title="其他补充"></a>其他补充</h2><p>由于很好奇它的点击事件是怎么实现的，这边也看了一下它的点击事件。<br>每个图表写了自己的TouchListener<br>在构造中需要传入的参数有</p>
<ol>
<li>图表大小的矩阵（用来计算缩放等级，还有当前点击事件位置）</li>
<li>图表对象</li>
</ol>
<p>之后根据Touch事件判断相应的手势或者点击，触摸事件作出反应（点击，手势缩放，移动等）。调用View的postInvalidate 方法通知刷新。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/学习/" rel="tag"># 学习</a>
          
            <a href="/tags/MPAndroidChart/" rel="tag"># MPAndroidChart</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/31/EventBusSource/" rel="next" title="EventBus">
                <i class="fa fa-chevron-left"></i> EventBus
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/07/SummaryOfWork/" rel="prev" title="工作总结（二）">
                工作总结（二） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/lucky.jpg"
               alt="小龙" />
          <p class="site-author-name" itemprop="name">小龙</p>
           
              <p class="site-description motion-element" itemprop="description">程序猿</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/xiaolongonly" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.csdn.net/guoxiaolongonly" target="_blank" title="CSDN">
                  
                    <i class="fa fa-fw fa-csdn"></i>
                  
                  CSDN
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Chart基类"><span class="nav-number">2.</span> <span class="nav-text">Chart基类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MPAndroidChart绘制过程"><span class="nav-number">3.</span> <span class="nav-text">MPAndroidChart绘制过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Render"><span class="nav-number">3.1.</span> <span class="nav-text">Render</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DataRender"><span class="nav-number">3.2.</span> <span class="nav-text">DataRender</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BarChartRender"><span class="nav-number">3.3.</span> <span class="nav-text">BarChartRender</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">4.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他补充"><span class="nav-number">5.</span> <span class="nav-text">其他补充</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小龙</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
